[tox]
minversion = 1.6
skipsdist = True

envlist = py27,pep8

[flake8]
max-line-length = 100

[testenv]
deps =
    nose
    -rmodules/admin/data/requirements.txt
commands = nosetests modules/admin/data modules/mediawiki/files/apache/sites/redirects

[testenv:pep8]
commands = pep8 {posargs}
deps = pep8==1.4.6

[pep8]
exclude = .git,.tox,*/modules/ganglia/files/plugins/,*/modules/librenms/files/purge.py,*/modules/memcached/files/ganglia/gmond_memcached.py,*/modules/mysql_wmf/files/ganglia/plugins/mysql.py,*/modules/mysql_wmf/files/ganglia/plugins/DBUtil.py,*/modules/postgresql/files/ganglia/postgresql.py,*/modules/redis/files/ganglia/redis_monitoring.py,*/modules/openstack/files/*/virtscripts/logstat.py,*/modules/osm/files/ganglia/osm.py,*/modules/varnish/files/ganglia/ganglia-vhtcpd.py,*/modules/letsencrypt/files/acme_tiny.py
max-line-length = 173
# E221 multiple spaces before operator (kafkatee & varnishkafka)
# E241 multiple spaces after ':'
ignore = E221,E241
