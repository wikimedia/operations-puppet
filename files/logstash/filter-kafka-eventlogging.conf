# vim:set sw=2 ts=2 sts=2 et
# Parse Kafka eventlogging input
filter {
  if [type] == "kafka" and "eventlogging_EventError" in [tags] {

      mutate {
        replace => [ "type",  "eventlogging" ]
        add_field => [
          "level", "ERROR",
          "host", "recvFrom",
          "message", "%{event.message}"
        ]
        remove_tag => [ "eventlogging_EventError" ]
        add_tag => [ "kafka", "es" ]
      }

  } # end [type] == "kafka" and "eventlogging_EventError" in [tags]
}
