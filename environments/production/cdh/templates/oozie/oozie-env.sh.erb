#! /bin/bash
# Note: This file is managed by Puppet.

# Set Oozie specific environment variables here.

<% if @java_home -%>
export JAVA_HOME=<%= @java_home %>
<% end -%>

export OOZIE_DATA=/var/lib/oozie
export OOZIE_CATALINA_HOME=/usr/lib/bigtop-tomcat
export CATALINA_TMPDIR=/var/lib/oozie
export CATALINA_PID=/var/run/oozie/oozie.pid
export CATALINA_BASE=/var/lib/oozie/tomcat-deployment

# Settings for the Embedded Tomcat that runs Oozie
# Java System properties for Oozie should be specified in this variable
#
<%
# This puppet module doesn't (yet) support HTTPS configuration.
# These are the defaults that ship with CDH.
-%>
export OOZIE_HTTPS_PORT=11443
export OOZIE_HTTPS_KEYSTORE_PASS=password
export CATALINA_OPTS="$CATALINA_OPTS -Doozie.https.port=${OOZIE_HTTPS_PORT}"
export CATALINA_OPTS="$CATALINA_OPTS -Doozie.https.keystore.pass=${OOZIE_HTTPS_KEYSTORE_PASS}"
<% if @jvm_opts -%>
export CATALINA_OPTS="$CATALINA_OPTS <%= @jvm_opts %>"
<% end -%>

# Oozie configuration file to load from Oozie configuration directory
#
# export OOZIE_CONFIG_FILE=oozie-site.xml
export OOZIE_CONFIG=/etc/oozie/conf

# Oozie logs directory
#
# export OOZIE_LOG=${OOZIE_HOME}/logs
export OOZIE_LOG=/var/log/oozie

# Oozie Log4J configuration file to load from Oozie configuration directory
#
# export OOZIE_LOG4J_FILE=oozie-log4j.properties

# Reload interval of the Log4J configuration file, in seconds
#
# export OOZIE_LOG4J_RELOAD=10

# The port Oozie server runs
#
# export OOZIE_HTTP_PORT=11000

# The port Oozie server runs if using SSL (HTTPS)
#
# export OOZIE_HTTPS_PORT=11443

# The host name Oozie server runs on
#
# export OOZIE_HTTP_HOSTNAME=`hostname -f`

# The base URL for callback URLs to Oozie
#
# export OOZIE_BASE_URL="http://${OOZIE_HTTP_HOSTNAME}:${OOZIE_HTTP_PORT}/oozie"

# The location of the keystore for the Oozie server if using SSL (HTTPS)
#
# export OOZIE_HTTPS_KEYSTORE_FILE=${HOME}/.keystore

# The password of the keystore for the Oozie server if using SSL (HTTPS)
#
# export OOZIE_HTTPS_KEYSTORE_PASS=password

# The Oozie Instance ID
#
# export OOZIE_INSTANCE_ID="${OOZIE_HTTP_HOSTNAME}"
