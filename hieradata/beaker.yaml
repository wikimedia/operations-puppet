# This file is copied from pontoon.yaml, anything commented out
# are things that are needed for pontoon so equivilent values may
# be needed here
# profile::base::production::enable: false
# profile::base::production::enable_ip6_mapped: false

profile::resolving::nameservers:
  - 8.8.8.8

# profile::mail::default_mail_relay::smarthosts:
# - 'mx-out-a.wmcloud.org'
# - 'mx-out-b.wmcloud.org'
# profile::mail::default_mail_relay::mediawiki_smarthosts:
# - 'mx-out-a.wmcloud.org'
# - 'mx-out-b.wmcloud.org'

# Default to blackholing all emails generated by Pontoon hosts
# See also https://phabricator.wikimedia.org/T296373 for more context
# profile::mail::default_mail_relay::template: 'profile/mail/default_mail_relay/exim4.minimal.blackhole.erb'


ntp_peers:
    eqiad: []
    codfw: []
    ulsfo: []
    eqsin: []
    esams: []
    drmrs: []
    magru: []

## Disable remote syslog logging, as it breaks rsyslog in cloud VPSes.
# profile::syslog::remote::enable: false
# profile::syslog::remote::central_hosts_tls: {}

# Disable email alerts
# profile::cumin::master::email_alerts: false
# Disable insetup role report
# profile::cumin::master::insetup_role_report_day: 0

## Puppet CA management
# manage_puppet_ca_file: false


# profile::base::certificates::trusted_certs: ~

# Set bastion_hosts to localhost so that beaker can ssh in to the image
bastion_hosts:
  - '127.0.0.1'
# in docker we cant write to this /sys value
profile::firewall::manage_nf_conntrack: false
# Fail fast
debmonitor: localhost
# Dont need proxies in docker
profile::apt::use_proxy: false
# No IPv6 in unprivlaged docker
profile::base::production::enable_ip6_mapped: false
# We dont back up beaker images
profile::backup::enable: false
# There is no pki service
profile::debmonitor::client::ensure: 'absent'
profile::debmonitor::client::ssl_ca: 'puppet'
# Docker has no domain so we mock it
profile::resolving::domain_search:
  ['wikimedia.org']
# systemd-timesync has a precondition to not start in containers
profile::systemd::timesyncd::ensure: absent
profile::systemd::timesyncd::ntp_servers: []
# in docker resolve.conf is a mount
resolvconf::manage_resolv_conf: false
