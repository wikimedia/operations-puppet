profile::restbase::seeds_ng:
  - restbase2024-a.codfw.wmnet
  - restbase2024-b.codfw.wmnet
  - restbase2024-c.codfw.wmnet
  - restbase2025-a.codfw.wmnet
  - restbase2025-b.codfw.wmnet
  - restbase2025-c.codfw.wmnet
# used for rate limiting
profile::restbase::hosts:
  - restbase2021.codfw.wmnet
  - restbase2022.codfw.wmnet
  - restbase2023.codfw.wmnet
  - restbase2024.codfw.wmnet
  - restbase2025.codfw.wmnet
  - restbase2026.codfw.wmnet
  - restbase2027.codfw.wmnet
  - restbase2028.codfw.wmnet
  - restbase2029.codfw.wmnet
  - restbase2030.codfw.wmnet
  - restbase2031.codfw.wmnet
  - restbase2032.codfw.wmnet
  - restbase2033.codfw.wmnet
  - restbase2034.codfw.wmnet
  - restbase2035.codfw.wmnet

lvs::realserver::realserver_ips:
  - '10.2.1.17' # restbase.svc.codfw.wmnet

# Move Cassandra instances to PKI TLS Certs - T352647
profile::cassandra::settings:
  start_rpc: false
  tls_cluster_name: "restbase"
  tls_use_pki: true
  tls_use_pki_truststore: true
  tls_use_pki_keep_old_ca: true
  dc: "%{::site}"
  cluster_name: "restbase"
  target_version: 'dev'
  default_instance_params:
    max_heap_size: 12g
    # 1/4 heap size, no more than 100m/thread
    heap_newsize: 2048m
    compaction_throughput_mb_per_sec: 20
    concurrent_compactors: 10
    concurrent_writes: 18
    concurrent_reads: 18
    internode_encryption: all
    permissions_validity_in_ms: 600000
    trickle_fsync: false
    client_encryption_enabled: true
    disk_failure_policy: best_effort
  users:
    - restbase
    - mediawiki_services_mobileapps
