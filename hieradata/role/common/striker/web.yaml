---
striker::uwsgi::port: 8081
striker::uwsgi::config:
  debug:
    DEBUG: false
  ldap:
    SERVER_URI: ldaps://ldap-labs.eqiad.wikimedia.org:389
    BIND_USER: uid=novaadmin,ou=people,dc=wikimedia,dc=org
    TLS: true
  oauth:
    CONSUMER_KEY: 3f0e3e91f2cba000c7d81932f59d615a
  phabricator:
    USER: striker
  db:
    ENGINE: django.db.backends.mysql
    NAME: striker
    USER: striker_app
    HOST: m5-master.eqiad.wmnet
    PORT: 3306
  cache:
    LOCATION: 127.0.0.1:11211
  xff:
    USE_XFF_HEADER: true
    # CIDR not supported, but substring/prefix match is
    # Should match IPs presented by the misc cache servers
    TRUSTED_PROXY_LIST: 10.
  https:
    REQUIRE_HTTPS: true
  logging:
    HANDLERS: console file
    FILE_FILENAME: /srv/log/striker/striker.log

striker::uwsgi::secret_config:
  # These values are only here to show the expected keys.
  # Actual values should be provided in the private or secret repos
  secrets:
    SECRET_KEY: "50 char random string used by DJango to salt things"
  ldap:
    BIND_PASSWORD: "striker::uwsgi::config::ldap::BIND_USER's password"
  oauth:
    CONSUMER_SECRET: "striker::uwsgi::config::oauth::CONSUMER_KEY's secret"
  phabricator:
    TOKEN: "striker::uwsgi::config::phabricator::USER's API token"
  db:
    PASSWORD: "striker::uwsgi::config::db::USER's password"
