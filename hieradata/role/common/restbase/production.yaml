cluster: restbase

# Icinga
contactgroups: "admins,team-services"

profile::base::production::role_description: 'Restbase (production with Cassandra 3.x)'

#
# RESTBase
#
profile::restbase::cassandra_local_dc: "%{::site}"
profile::restbase::logging_label: restbase
profile::restbase::cassandra_datacenters:
  - "eqiad"
  - "codfw"
profile::restbase::cassandra_user: restb
profile::restbase::cassandra_password: "%{passwords::cassandra::restbase}"
profile::restbase::monitor_domain: en.wikipedia.org
profile::restbase::cassandra_tls:
  ca: /dev/null
profile::services_proxy::envoy::listen_ipv6: false
profile::services_proxy::envoy::enabled_listeners:
  - mathoid
  - mobileapps
  - aqs
  - proton
  - citoid
  - cxserver
  - recommendation
  - wikifeeds
  - eventgate-main
  - mw-parsoid
  - mw-api-int-async
service::configuration::mwapi_host: "http://localhost:6500"
#
# Cassandra
profile::cassandra::allow_analytics: false
profile::cassandra::client_ips:
  # Add the kubernetes pod IPs here
  # eqiad. In the past it was 10.64.64.0/21
  - 10.67.128.0/18
  - 2620:0:861:cabe::/64
  # staging-eqiad
  - 10.64.75.0/24
  - 2620:0:861:babe::/64
  # staging-codfw
  - 10.192.75.0/24
  - 2620:0:860:babe::/64
  # codfw. In the past it was 10.192.64.0/21
  - 10.194.128.0/18
  - 2620:0:860:cabe::/64

## Instances
profile::cassandra::instances:
  "restbase1028.eqiad.wmnet":
    a:
      listen_address: 10.64.0.209
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.0.210
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.0.211
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1029.eqiad.wmnet":
    a:
      listen_address: 10.64.16.180
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.16.181
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.16.182
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1030.eqiad.wmnet":
    a:
      listen_address: 10.64.48.234
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.48.235
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.48.236
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1031.eqiad.wmnet":
    a:
      listen_address: 10.64.0.198
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.0.204
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.0.205
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1032.eqiad.wmnet":
    a:
      listen_address: 10.64.16.106
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.16.108
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.16.109
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1033.eqiad.wmnet":
    a:
      listen_address: 10.64.48.151
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.48.152
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.48.153
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1034.eqiad.wmnet":
    a:
      listen_address: 10.64.0.98
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.0.99
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.0.109
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1035.eqiad.wmnet":
    a:
      listen_address: 10.64.0.130
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.0.131
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.0.132
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1036.eqiad.wmnet":
    a:
      listen_address: 10.64.0.133
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.0.137
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.0.138
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1037.eqiad.wmnet":
    a:
      listen_address: 10.64.16.23
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.16.24
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.16.25
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1038.eqiad.wmnet":
    a:
      listen_address: 10.64.16.28
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.16.32
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.16.35
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1039.eqiad.wmnet":
    a:
      listen_address: 10.64.16.39
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.16.56
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.16.72
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1040.eqiad.wmnet":
    a:
      listen_address: 10.64.48.100
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.48.101
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.48.102
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1041.eqiad.wmnet":
    a:
      listen_address: 10.64.48.103
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.48.104
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.48.109
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase1042.eqiad.wmnet":
    a:
      listen_address: 10.64.48.111
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.64.48.112
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.64.48.117
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2021.codfw.wmnet":
    a:
      listen_address: 10.192.16.153
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.16.154
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.16.155
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2022.codfw.wmnet":
    a:
      listen_address: 10.192.32.191
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.32.192
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.32.193
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2023.codfw.wmnet":
    a:
      listen_address: 10.192.48.142
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.48.143
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.48.144
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2024.codfw.wmnet":
    a:
      listen_address: 10.192.16.111
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.16.112
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.16.113
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2025.codfw.wmnet":
    a:
      listen_address: 10.192.32.73
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.32.74
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.32.75
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2026.codfw.wmnet":
    a:
      listen_address: 10.192.48.170
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.48.171
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.48.172
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2027.codfw.wmnet":
    a:
      listen_address: 10.192.48.182
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.48.183
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.48.184
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2028.codfw.wmnet":
    a:
      listen_address: 10.192.16.237
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.16.238
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.16.239
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2029.codfw.wmnet":
    a:
      listen_address: 10.192.16.240
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.16.241
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.16.242
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2030.codfw.wmnet":
    a:
      listen_address: 10.192.16.243
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.16.244
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.16.245
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2031.codfw.wmnet":
    a:
      listen_address: 10.192.32.226
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.32.227
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.32.228
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2032.codfw.wmnet":
    a:
      listen_address: 10.192.32.229
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.32.230
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.32.231
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2033.codfw.wmnet":
    a:
      listen_address: 10.192.32.232
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.32.233
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.32.234
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2034.codfw.wmnet":
    a:
      listen_address: 10.192.48.234
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.48.235
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.48.236
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
  "restbase2035.codfw.wmnet":
    a:
      listen_address: 10.192.48.237
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
    b:
      listen_address: 10.192.48.238
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
    c:
      listen_address: 10.192.48.239
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches

profile::cassandra::settings:
  start_rpc: false
  tls_cluster_name: "restbase"
  tls_use_pki: true
  tls_use_pki_truststore: true
  dc: "%{::site}"
  cluster_name: "restbase"
  target_version: '4.x'
  default_instance_params:
    max_heap_size: 12g
    # 1/4 heap size, no more than 100m/thread
    heap_newsize: 2048m
    compaction_throughput_mb_per_sec: 20
    concurrent_compactors: 10
    concurrent_writes: 18
    concurrent_reads: 18
    internode_encryption: all
    permissions_validity_in_ms: 600000
    trickle_fsync: false
    client_encryption_enabled: true
    disk_failure_policy: best_effort
  users:
    - restbase
    - mediawiki_services_mobileapps

# Port to use for SSL certificate monitoring
profile::cassandra::monitor_tls_port: 7000

#
# General
#
profile::lvs::realserver::pools:
  "restbase-https":
    services:
      - restbase
      - envoyproxy
    # TODO: add cassandra instances?
service::configuration::log_dir: "/var/log"

profile::admin::groups:
  - restbase-roots
  - restbase-admins
profile::tlsproxy::envoy::tls_port: 7443
profile::tlsproxy::envoy::ssl_provider: cfssl
profile::tlsproxy::envoy::cfssl_options:
  hosts:
    - restbase.discovery.wmnet
    - restbase-async.discovery.wmnet
    - "restbase.svc.%{::site}.wmnet"
    - restbase.svc.codfw.wmnet
    - "*.wikipedia.org"
    - "*.m.mediawiki.org"
    - "*.m.wikibooks.org"
    - "*.m.wikidata.org"
    - "*.m.wikimedia.org"
    - "*.m.wikimediafoundation.org"
    - "*.m.wikinews.org"
    - "*.m.wikipedia.org"
    - "*.m.wikiquote.org"
    - "*.m.wikisource.org"
    - "*.m.wikiversity.org"
    - "*.m.wikivoyage.org"
    - "*.m.wiktionary.org"
    - "*.mediawiki.org"
    - "*.planet.wikimedia.org"
    - "*.wikibooks.org"
    - "*.wikidata.org"
    - "*.wikimedia.org"
    - "*.wikimediafoundation.org"
    - "*.wikinews.org"
    - "*.wikiquote.org"
    - "*.wikisource.org"
    - "*.wikiversity.org"
    - "*.wikivoyage.org"
    - "*.wiktionary.org"
    - "*.wmfusercontent.org"
    - "*.zero.wikipedia.org"
    - mediawiki.org
    - w.wiki
    - wikibooks.org
    - wikidata.org
    - wikimedia.org
    - wikimediafoundation.org
    - wikinews.org
    - wikiquote.org
    - wikisource.org
    - wikiversity.org
    - wikivoyage.org
    - wiktionary.org
    - wmfusercontent.org
    - wikipedia.org

profile::tlsproxy::envoy::services:
  - server_names: ["*"]
    port: 7231
profile::tlsproxy::envoy::global_cert_name: "restbase.discovery.wmnet"
profile::contacts::role_contacts: ['ServiceOps']
profile::java::java_packages:
  - version: '11'
    variant: 'jdk'

profile::base::certificates::include_bundle_jks: true

profile::puppet::agent::force_puppet7: true
profile::restbase::no_workers: 40 # T353456
