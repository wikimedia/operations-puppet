cluster: restbase

#
# RESTBase
#
profile::restbase::cassandra_local_dc: "%{::site}"
profile::restbase::logging_label: restbase
profile::restbase::cassandra_datacenters:
    - "eqiad"
    - "codfw"
profile::restbase::parsoid_uri: "http://parsoid.discovery.wmnet:8000"
profile::restbase::graphoid_uri: "http://graphoid.discovery.wmnet:19000"
profile::restbase::mobileapps_uri: "http://mobileapps.discovery.wmnet:8888"
profile::restbase::mathoid_uri: "http://mathoid.discovery.wmnet:10042"
profile::restbase::aqs_uri: "http://aqs.svc.%{::aqs_site}.wmnet:7232/analytics.wikimedia.org/v1"
profile::restbase::pdfrender_uri: "http://pdfrender.discovery.wmnet:5252"
profile::restbase::proton_uri: "http://proton.discovery.wmnet:24766"
profile::restbase::citoid_uri: "http://citoid.discovery.wmnet:1970"
profile::restbase::eventlogging_service_uri: "http://eventbus.discovery.wmnet:8085/v1/events"
profile::restbase::cxserver_uri: "http://cxserver.discovery.wmnet:8080"
profile::restbase::recommendation_uri: "http://recommendation-api.discovery.wmnet:9632"
profile::restbase::cassandra_user: restb
profile::restbase::cassandra_password: "%{passwords::cassandra::restbase}"
profile::restbase::monitor_domain: en.wikipedia.org
profile::restbase::cassandra_tls:
  ca: /dev/null

#
# Cassandra
# FIXME: no graphite_host since graphite1003 decom'ed in T209357
graphite_host: 'none'
profile::cassandra::allow_analytics: false
profile::cassandra::disable_graphite_metrics: true

## Instances
profile::cassandra::instances:
  "restbase1007.eqiad.wmnet":
    a:
      listen_address: 10.64.0.230
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.0.231
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.0.232
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1008.eqiad.wmnet":
    a:
      listen_address: 10.64.32.187
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.32.195
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.32.196
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1009.eqiad.wmnet":
    a:
      listen_address: 10.64.48.120
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.48.130
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.48.131
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1010.eqiad.wmnet":
    a:
      listen_address: 10.64.0.114
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.0.115
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.0.116
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1011.eqiad.wmnet":
    a:
      listen_address: 10.64.0.117
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.0.118
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.0.119
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1012.eqiad.wmnet":
    a:
      listen_address: 10.64.32.202
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.32.203
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.32.204
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1013.eqiad.wmnet":
    a:
      listen_address: 10.64.32.205
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.32.206
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.32.207
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1014.eqiad.wmnet":
    a:
      listen_address: 10.64.48.135
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.48.136
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.48.137
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1015.eqiad.wmnet":
    a:
      listen_address: 10.64.48.138
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
        - /srv/sde4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.48.139
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
        - /srv/sde4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.48.140
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
        - /srv/sde4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1016.eqiad.wmnet":
    a:
      listen_address: 10.64.0.32
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.0.33
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.0.34
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1017.eqiad.wmnet":
    a:
      listen_address: 10.64.32.130
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.32.131
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.32.132
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase1018.eqiad.wmnet":
    a:
      listen_address: 10.64.48.98
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.64.48.99
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.64.48.100
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2009.codfw.wmnet":
    a:
      listen_address: 10.192.48.54
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.48.55
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.48.56
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2010.codfw.wmnet":
    a:
      listen_address: 10.192.16.186
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.16.187
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.16.188
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2011.codfw.wmnet":
    a:
      listen_address: 10.192.32.152
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.32.153
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.32.154
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2012.codfw.wmnet":
    a:
      listen_address: 10.192.48.68
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
        - /srv/sdd4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.48.69
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
        - /srv/sdd4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.48.70
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
        - /srv/sdd4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2013.codfw.wmnet":
    a:
      listen_address: 10.192.16.82
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.16.83
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.16.84
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2014.codfw.wmnet":
    a:
      listen_address: 10.192.16.85
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.16.86
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.16.87
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2015.codfw.wmnet":
    a:
      listen_address: 10.192.32.22
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.32.25
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.32.105
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2016.codfw.wmnet":
    a:
      listen_address: 10.192.32.108
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.32.111
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.32.175
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2017.codfw.wmnet":
    a:
      listen_address: 10.192.48.121
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.48.122
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.48.123
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2018.codfw.wmnet":
    a:
      listen_address: 10.192.48.124
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.48.125
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.48.126
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2019.codfw.wmnet":
    a:
      listen_address: 10.192.16.98
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.16.99
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.16.100
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true
  "restbase2020.codfw.wmnet":
    a:
      listen_address: 10.192.32.119
      data_file_directories:
        - /srv/sda4/cassandra-a/data
        - /srv/sdb4/cassandra-a/data
        - /srv/sdc4/cassandra-a/data
      heapdump_directory: /srv/sda4/cassandra-a
      commitlog_directory: /srv/cassandra/instance-data/cassandra-a/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-a/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-a/saved_caches
      jmx_exporter_enabled: true
    b:
      listen_address: 10.192.32.120
      data_file_directories:
        - /srv/sda4/cassandra-b/data
        - /srv/sdb4/cassandra-b/data
        - /srv/sdc4/cassandra-b/data
      heapdump_directory: /srv/sdb4/cassandra-b
      commitlog_directory: /srv/cassandra/instance-data/cassandra-b/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-b/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-b/saved_caches
      jmx_exporter_enabled: true
    c:
      listen_address: 10.192.32.121
      data_file_directories:
        - /srv/sda4/cassandra-c/data
        - /srv/sdb4/cassandra-c/data
        - /srv/sdc4/cassandra-c/data
      heapdump_directory: /srv/sdc4/cassandra-c
      commitlog_directory: /srv/cassandra/instance-data/cassandra-c/commitlog
      hints_directory: /srv/cassandra/instance-data/cassandra-c/hints
      saved_caches_directory: /srv/cassandra/instance-data/cassandra-c/saved_caches
      jmx_exporter_enabled: true


profile::cassandra::settings:
  start_rpc: 'false'
  tls_cluster_name: "restbase"
  dc: "%{::site}"
  cluster_name: "restbase"
  application_username: restb
  application_password: "%{passwords::cassandra::restbase}"
  target_version: '3.x'
  default_instance_params:
    max_heap_size: 12g
    # 1/4 heap size, no more than 100m/thread
    heap_newsize: 2048m
    compaction_throughput_mb_per_sec: 20
    concurrent_compactors: 10
    concurrent_writes: 18
    concurrent_reads: 18
    internode_encryption: dc
    permissions_validity_in_ms: 600000
    trickle_fsync: false
    client_encryption_enabled: true
    disk_failure_policy: best_effort


#
# General
#
role::lvs::realserver::pools:
  restbase: {}
service::configuration::log_dir: "/var/log"

admin::groups:
  - restbase-roots
  - restbase-admins
diamond::remove: true
