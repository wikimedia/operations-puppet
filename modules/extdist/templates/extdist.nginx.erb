#####################################################################
#### THIS FILE IS MANAGED BY PUPPET
#### puppet:///templates/extdist.nginx.erb
####
####  Changes to this file will be discarded by Puppet periodically
####  and without warning.
####
######################################################################
# nginx configuration for extdist

upstream extdist {
    server unix:/run/uwsgi/extdist.sock;
}

server {
    listen 80;

    location / {
        return 302 https://www.mediawiki.org/wiki/Special:ExtensionDistributor;
    }

    location /dist {
        root <%= @dist_dir %>;
        autoindex on;
    }
}
