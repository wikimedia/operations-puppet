; Ready queue trackers
aggrSrvs=<%= Array(@aggr_servers).join(',') %>

; Main queue servers
queueSrvs=<%= Array(@queue_servers).join(',') %>

<%- if @statsd_server -%>
statsdAddr=<%= @statsd_server %>
<%- end -%>

; Runner loop config
runners="
<%= @runners_basic %>:*,~refreshLinks,~htmlCacheUpdate,~cirrusSearchLinksUpdate,-AssembleUploadChunks,-PublishStashedFile,-ParsoidCacheUpdateJobOnEdit,-ParsoidCacheUpdateJobOnDependencyChange,-webVideoTranscode,-gwtoolsetUploadMetadataJob,-gwtoolsetUploadMediafileJob,-gwtoolsetGWTFileBackendCleanupJob,-uploadFromUrl

&<%= @runners_upload %>:AssembleUploadChunks,PublishStashedFile,uploadFromUrl

&<%= @runners_gwt %>:gwtoolsetUploadMetadataJob,gwtoolsetUploadMediafileJob,gwtoolsetGWTFileBackendCleanupJob

&<%= @runners_parsoid %>:ParsoidCacheUpdateJobOnEdit,~ParsoidCacheUpdateJobOnDependencyChange

&<%= @runners_transcode %>:webVideoTranscode"

; runJobs.php process time limits
maxReal=*:300,webVideoTranscode:86400
; runJobs.php memory limits
maxMem=*:300M

; HET deploy wrapper
wrapper="php /usr/local/apache/common/multiversion/MWScript.php"

; How long jobs can be claimed before being recycled
claimTTL=*:3600,webVideoTranscode:86400
; How many times to let jobs be recycled before abandoning
attempts=*:3

; Redis password
password="<%= scope.lookupvar('passwords::redis::main_password') %>"
