# SPDX-License-Identifier: Apache-2.0
# Attention: It's incomplete. Work in progress.
---
version: "0"
tables:
  - name: site_identifiers
    source: core
    canonicality: derivative
    visibility: public
  - name: updatelog
    source: core
    canonicality: canonical
    visibility: public
  - name: actor
    source: core
    canonicality: canonical
    visibility: partially public
  - name: user_former_groups
    source: core
    canonicality: canonical
    visibility: partially public
  - name: bot_passwords
    source: core
    canonicality: canonical with acceptable loss
    visibility: private
  - name: comment
    source: core
    canonicality: canonical
    visibility: partially public
  - name: slots
    source: core
    canonicality: canonical
    visibility: partially public
  - name: site_stats
    source: core
    canonicality: derivative
    visibility: public
  - name: user_properties
    source: core
    canonicality: canonical
    visibility: partially public
  - name: log_search
    source: core
    canonicality: canonical
    visibility: partially public
  - name: change_tag
    source: core
    canonicality: canonical
    visibility: public
  - name: content
    source: core
    canonicality: canonical
    visibility: partially public
  - name: l10n_cache
    source: core
    canonicality: derivative
    visibility: private
  - name: module_deps
    source: core
    canonicality: derivative
    visibility: public
  - name: redirect
    source: core
    canonicality: derivative
    visibility: partially public
  - name: pagelinks
    source: core
    canonicality: derivative
    visibility: public
  - name: templatelinks
    source: core
    canonicality: derivative
    visibility: public
  - name: imagelinks
    source: core
    canonicality: derivative
    visibility: public
  - name: langlinks
    source: core
    canonicality: derivative
    visibility: public
  - name: iwlinks
    source: core
    canonicality: derivative
    visibility: public
  - name: category
    source: core
    canonicality: derivative
    visibility: public
  - name: watchlist_expiry
    source: core
    canonicality: canonical
    visibility: private
  - name: change_tag_def
    source: core
    canonicality: canonical
    visibility: public
  - name: ipblocks_restrictions
    source: core
    canonicality: canonical
    visibility: public
  - name: querycache
    source: core
    canonicality: derivative
    visibility: public
  - name: querycachetwo
    source: core
    canonicality: derivative
    visibility: public
  - name: page_restrictions
    source: core
    canonicality: canonical
    visibility: public
  - name: user_groups
    source: core
    canonicality: canonical
    visibility: public
  - name: querycache_info
    source: core
    canonicality: canonical with acceptable loss
    visibility: public
  - name: watchlist
    source: core
    canonicality: canonical
    visibility: private
  - name: sites
    source: core
    canonicality: derivative
    visibility: public
  - name: user_newtalk
    source: core
    canonicality: canonical with acceptable loss
    visibility: private
  - name: interwiki
    source: core
    canonicality: derivative
    visibility: public
  - name: protected_titles
    source: core
    canonicality: canonical
    visibility: public
  - name: externallinks
    source: core
    canonicality: derivative
    visibility: public
  - name: ip_changes
    source: core
    canonicality: derivative
    visibility: partially public
  - name: page_props
    source: core
    canonicality: derivative
    visibility: public
  - name: job
    source: core
    canonicality: canonical with acceptable loss
    visibility: private
  - name: slot_roles
    source: core
    canonicality: canonical
    visibility: public
  - name: content_models
    source: core
    canonicality: canonical
    visibility: public
  - name: categorylinks
    source: core
    canonicality: derivative
    visibility: public
  - name: logging
    source: core
    canonicality: canonical
    visibility: partially public
  - name: uploadstash
    source: core
    canonicality: canonical with acceptable loss
    visibility: private
  - name: filearchive
    source: core
    canonicality: canonical
    visibility: private
  - name: text
    source: core
    canonicality: canonical
    visibility: private
  - name: oldimage
    source: core
    canonicality: canonical
    visibility: partially public
  - name: objectcache
    source: core
    canonicality: derivative
    visibility: private
  - name: block
    source: core
    canonicality: canonical
    visibility: partially public
  - name: block_target
    source: core
    canonicality: canonical
    visibility: partially public
  - name: image
    source: core
    canonicality: canonical
    visibility: partially public
  - name: recentchanges
    source: core
    canonicality: canonical with acceptable loss
    visibility: partially public
  - name: archive
    source: core
    canonicality: canonical
    visibility: private
  - name: page
    source: core
    canonicality: canonical
    visibility: public
  - name: user
    source: core
    canonicality: canonical
    visibility: partially public
  - name: user_autocreate_serial
    source: core
    canonicality: canonical
    visibility: public
  - name: revision
    source: core
    canonicality: canonical
    visibility: partially public
  - name: searchindex
    source: core
    canonicality: derivative
    visibility: public
  - name: linktarget
    source: core
    canonicality: derivative
    visibility: partially public
  - name: abuse_filter
    source: abuse_filter
    canonicality: canonical
    visibility: partially public
  - name: abuse_filter_action
    source: abuse_filter
    canonicality: canonical
    visibility: public
  - name: abuse_filter_log
    source: abuse_filter
    canonicality: canonical
    visibility: partially public
  - name: abuse_filter_history
    source: abuse_filter
    canonicality: canonical
    visibility: partially public
  - name: babel
    source: babel
    canonicality: derivative
    visibility: public
  - name: betafeatures_user_counts
    source: betafeatures
    canonicality: derivative
    visibility: private
  - name: cu_changes
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_log_event
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_private_event
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_useragent
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_useragent_clienthints
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_useragent_clienthints_map
    source: checkuser
    canonicality: canonical with acceptable loss
    visibility: private
  - name: cu_log
    source: checkuser
    canonicality: canonical
    visibility: private
  - name: discussiontools_items
    source: discussiontools
    canonicality: derivative
    visibility: public
  - name: discussiontools_item_ids
    source: discussiontools
    canonicality: derivative
    visibility: public
  - name: discussiontools_item_pages
    source: discussiontools
    canonicality: derivative
    visibility: public
  - name: discussiontools_item_revisions
    source: discussiontools
    canonicality: derivative
    visibility: public
  - name: discussiontools_subscription
    source: discussiontools_subscription
    canonicality: canonical with acceptable loss
    visibility: private
  - name: geo_tags
    source: geo_data
    canonicality: derivative
    visibility: public
  - name: linter
    source: linter
    canonicality: derivative
    visibility: public
  - name: spoofuser
    source: spoofuser
    canonicality: derivative
    visibility: private
  - name: securepoll_entity
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_properties
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_questions
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_options
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_lists
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_log
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_msgs
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_elections
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_voters
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_votes
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_strike
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: securepoll_cookie_match
    source: securepoll_main
    canonicality: canonical
    visibility: private
  - name: transcode
    source: timed_media_handler
    canonicality: canonical with acceptable loss
    visibility: public
  - name: wbc_entity_usage
    source: wikibase_client
    canonicality: derivative
    visibility: public
  - name: pr_index
    source: proofread
    canonicality: derivative
    visibility: public
    dblist: wikisource
  - name: flaggedpages
    source: flaggedrevs
    canonicality: derivative
    visibility: public
    dblist: flaggedrevs
  - name: flaggedrevs
    source: flaggedrevs
    canonicality: canonical with acceptable loss
    visibility: public
    dblist: flaggedrevs
  - name: flaggedpage_config
    source: flaggedrevs
    canonicality: canonical with acceptable loss
    visibility: public
    dblist: flaggedrevs
  - name: flaggedrevs_tracking
    source: flaggedrevs
    canonicality: derivative
    visibility: public
    dblist: flaggedrevs
  - name: flaggedrevs_promote
    source: flaggedrevs
    canonicality: derivative
    visibility: public
    dblist: flaggedrevs
  - name: flaggedrevs_statistics
    source: flaggedrevs
    canonicality: derivative
    visibility: public
    dblist: flaggedrevs
  - name: revtag
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_groupreviews
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_groupstats
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_messageindex
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_metadata
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_reviews
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_sections
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: translate_translatable_bundles
    source: translate
    canonicality: derivative
    visibility: public
    dblist: translate
  - name: global_block_whitelist
    source: globalblock_whitelist
    canonicality: canonical
    visibility: public
  - name: wikilambda_zlanguages
    source: wiki_lambda_zlanguages
    dbname: wikifunctionswiki
    canonicality: derivative
    visibility: public
  - name: wikilambda_zobject_function_join
    source: wiki_lambda_zobject_function_join
    dbname: wikifunctionswiki
    canonicality: derivative
    visibility: public
  - name: wikilambda_zobject_join
    source: wiki_lambda_zobject_join
    dbname: wikifunctionswiki
    canonicality: derivative
    visibility: public
  - name: wikilambda_zobject_label_conflicts
    source: wiki_lambda_zobject_label_conflicts
    dbname: wikifunctionswiki
    canonicality: derivative
    visibility: public
  - name: wikilambda_zobject_labels
    source: wiki_lambda_zobject_labels
    dbname: wikifunctionswiki
    canonicality: derivative
    visibility: public
  - name: wikilambda_ztester_results
    source: wiki_lambda_ztester_results
    dbname: wikifunctionswiki
    canonicality: canonical with acceptable loss
    visibility: public
  - name: wbt_item_terms
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbt_property_terms
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbt_term_in_lang
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbt_text
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbt_text_in_lang
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbt_type
    source: wikibase_term_store
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wb_changes
    source: wb_changes
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wb_changes_subscription
    source: wb_changes_subscription
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wb_id_counters
    source: wb_id_counters
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wb_items_per_site
    source: wb_items_per_site
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wb_property_info
    source: wb_property_info
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: wbqc_constraints
    source: wikibase_quality_constraints
    dblist: wikibaserepo
    canonicality: derivative
    visibility: public
  - name: entityschema_id_counter
    source: entityschema
    dblist: wikidata
    canonicality: derivative
    visibility: public
  - name: wbs_propertypairs
    source: property_suggester
    dblist: wikidata
    canonicality: derivative
    visibility: public
sources:
  core:
    - path: maintenance/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/core/+/refs/heads/master/maintenance/tables.json
  abuse_filter:
    - path: extensions/AbuseFilter/db_patches/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/AbuseFilter/+/master/db_patches/tables.json
  babel:
    - path: extensions/Babel/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Babel/+/master/sql/tables.json
  betafeatures:
    - path: extensions/BetaFeatures/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/BetaFeatures/+/master/sql/tables.json
  checkuser:
    - path: extensions/CheckUser/schema/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/CheckUser/+/master/schema/tables.json
  discussiontools:
    - path: extensions/DiscussionTools/sql/discussiontools_persistent.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/DiscussionTools/+/master/sql/discussiontools_persistent.json
  discussiontools_subscription:
    - path: extensions/DiscussionTools/sql/discussiontools_subscription.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/DiscussionTools/+/master/sql/discussiontools_subscription.json
  flaggedrevs:
    - path: extensions/FlaggedRevs/includes/backend/schema/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/FlaggedRevs/+/master/includes/backend/schema/tables.json
  geo_data:
    - path: extensions/GeoData/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/GeoData/+/master/sql/tables.json
  globalblock_whitelist:
    - path: extensions/GlobalBlocking/sql/tables-global_block_whitelist.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/GlobalBlocking/+/master/sql/tables-global_block_whitelist.json
  linter:
    - path: extensions/Linter/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Linter/+/master/sql/tables.json
  proofread:
    - path: extensions/ProofreadPage/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/ProofreadPage/+/master/sql/tables.json
  spoofuser:
    - path: extensions/AntiSpoof/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/AntiSpoof/+/master/sql/tables.json
  securepoll_main:
    - path: extensions/SecurePoll/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/SecurePoll/+/master/sql/tables.json
  timed_media_handler:
    - path: extensions/TimedMediaHandler/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/TimedMediaHandler/+/master/sql/tables.json
  translate:
    - path: extensions/Translate/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Translate/+/master/sql/tables.json
  wikibase_client:
    - path: extensions/Wikibase/client/sql/abstract/entity_usage.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/client/sql/abstract/entity_usage.json
  wikibase_term_store:
    - path: extensions/Wikibase/repo/sql/abstract/term_store.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/term_store.json
  wb_changes:
    - path: extensions/Wikibase/repo/sql/abstract/wb_changes.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/wb_changes.json
  wb_changes_subscription:
    - path: extensions/Wikibase/repo/sql/abstract/wb_changes_subscription.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/wb_changes_subscription.json
  wb_id_counters:
    - path: extensions/Wikibase/repo/sql/abstract/wb_id_counters.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/wb_id_counters.json
  wb_items_per_site:
    - path: extensions/Wikibase/repo/sql/abstract/wb_items_per_site.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/wb_items_per_site.json
  wb_property_info:
    - path: extensions/Wikibase/repo/sql/abstract/wb_property_info.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/Wikibase/+/master/repo/sql/abstract/wb_property_info.json
  wiki_lambda_zlanguages:
    - path: extensions/WikiLambda/sql/table-zlanguages.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-zlanguages.json
  wiki_lambda_zobject_function_join:
    - path: extensions/WikiLambda/sql/table-zobject_function_join.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-zobject_function_join.json
  wiki_lambda_zobject_join:
    - path: extensions/WikiLambda/sql/table-zobject_join.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-zobject_join.json
  wiki_lambda_zobject_label_conflicts:
    - path: extensions/WikiLambda/sql/table-zobject_label_conflicts.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-zobject_label_conflicts.json
  wiki_lambda_zobject_labels:
    - path: extensions/WikiLambda/sql/table-zobject_labels.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-zobject_labels.json
  wiki_lambda_ztester_results:
    - path: extensions/WikiLambda/sql/table-ztester_results.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikiLambda/+/refs/heads/master/sql/table-ztester_results.json
  wikibase_quality_constraints:
    - path: extensions/WikibaseQualityConstraints/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/WikibaseQualityConstraints/+/refs/heads/master/sql/tables.json
  entityschema:
    - path: extensions/EntitySchema/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/EntitySchema/+/refs/heads/master/sql/tables.json
  property_suggester:
    - path: extensions/PropertySuggester/sql/tables.json
      gerrit: https://gerrit.wikimedia.org/r/plugins/gitiles/mediawiki/extensions/PropertySuggester/+/refs/heads/master/sql/tables.json
dropped_tables:
  - flaggedtemplates
  - flaggedimages
  - cur
