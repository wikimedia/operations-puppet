<?xml version="1.0" encoding="UTF-8"?>
<!--
  Written by Mark Bergsma <mark@nedworks.org>

  $Id$
-->

<configuration>
	<definitions>
		<def name="squid"	value="1.3.6.1.4.1.3495"/>
		
		<!-- cacheSystem group -->
		<def name="cacheSysVMsize"					value="1.1.1.0"/>
		<def name="cacheSysStorage"					value="1.1.2.0"/>
		
		<!-- cacheStorageConfig group -->
		<def name="cacheMemMaxSize"					value="1.2.5.1.0"/>
		<def name="cacheSwapMaxSize"				value="1.2.5.2.0"/>
		<def name="cacheSwapHighWM"					value="1.2.5.3.0"/>
		<def name="cacheSwapLowWM"					value="1.2.5.4.0"/>
		
		<!-- cacheSysPerf group -->
		<def name="cacheSysPageFaults"				value="1.3.1.1.0"/>
		<def name="cacheSysNumReads"				value="1.3.1.2.0"/>
		<def name="cacheMemUsage"					value="1.3.1.3.0"/>
		<def name="cacheCpuTime"					value="1.3.1.4.0"/>
		<def name="cacheMaxResSize"					value="1.3.1.6.0"/>
		<def name="cacheNumObjCount"				value="1.3.1.7.0"/>
		<def name="cacheCurrentUnlinkRequests"		value="1.3.1.9.0"/>
		<def name="cacheCurrentUnusedFDescrCnt"		value="1.3.1.10.0"/>
		<def name="cacheCurrentResFileDescrCnt"		value="1.3.1.11.0"/>
		<def name="cacheCurrentFileDescrCnt"		value="1.3.1.12.0"/>
		<def name="cacheCurrentFileDescrMax"		value="1.3.1.13.0"/>
		
		<!-- cacheProtoAggregateStats group -->
		<def name="cacheHttpRequests"				value="1.3.2.1.1.0"/>
		<def name="cacheHttpHits"					value="1.3.2.1.2.0"/>
		<def name="cacheHttpErrors"					value="1.3.2.1.3.0"/>
		<def name="cacheHttpInKb"					value="1.3.2.1.4.0"/>
		<def name="cacheHttpOutKb"					value="1.3.2.1.5.0"/>
		<def name="cacheIcpPktsSent"				value="1.3.2.1.6.0"/>
		<def name="cacheIcpPktsRecv"				value="1.3.2.1.7.0"/>
		<def name="cacheIcpKbSent"					value="1.3.2.1.8.0"/>
		<def name="cacheIcpKbRecv"					value="1.3.2.1.9.0"/>
		<def name="cacheServerRequests"				value="1.3.2.1.10.0"/>
		<def name="cacheServerErrors"				value="1.3.2.1.11.0"/>
		<def name="cacheServerInKb"					value="1.3.2.1.12.0"/>
		<def name="cacheServerOutKb"				value="1.3.2.1.13.0"/>
		<def name="cacheCurrentSwapSize"			value="1.3.2.1.14.0"/>
		<def name="cacheClients"					value="1.3.2.1.15.0"/>
		
		<!-- cacheProtoMedianSvcStats group -->
		<def name="cacheHttpAllSvcTime"				value="1.3.2.2.1.2"/>
		<def name="cacheHttpMissSvcTime"			value="1.3.2.2.1.3"/>
		<def name="cacheHttpNmSvcTime"				value="1.3.2.2.1.4"/>
		<def name="cacheHttpHitSvcTime"				value="1.3.2.2.1.5"/>
		<def name="cacheIcpQuerySvcTime"			value="1.3.2.2.1.6"/>
		<def name="cacheIcpReplySvcTime"			value="1.3.2.2.1.7"/>
		<def name="cacheDnsSvcTime"					value="1.3.2.2.1.8"/>
		<def name="cacheRequestHitRatio"			value="1.3.2.2.1.9"/>
		<def name="cacheRequestByteRatio"			value="1.3.2.2.1.10"/>
		<def name="cacheHttpNhSvcTime"				value="1.3.2.2.1.11"/>
		
		<!-- cacheNetwork group -->
		<def name="cacheIpEntries"					value="1.4.1.1.0"/>
		<def name="cacheIpRequests"					value="1.4.1.2.0"/>
		<def name="cacheIpHits"						value="1.4.1.3.0"/>
		<def name="cacheIpPendingHits"				value="1.4.1.4.0"/>
		<def name="cacheIpNegativeHits"				value="1.4.1.5.0"/>
		<def name="cacheIpMisses"					value="1.4.1.6.0"/>
		<def name="cacheBlockingGetHostByName"		value="1.4.1.7.0"/>
		<def name="cacheAttemptReleaseLckEntries"	value="1.4.1.8.0"/>
		
		<def name="cacheFqdnEntries"				value="1.4.2.1.0"/>
		<def name="cacheFqdnRequests"				value="1.4.2.2.0"/>
		<def name="cacheFqdnHits"					value="1.4.2.3.0"/>
		<def name="cacheFqdnPendingHits"			value="1.4.2.4.0"/>
		<def name="cacheFqdnNegativeHits"			value="1.4.2.5.0"/>
		<def name="cacheFqdnMisses"					value="1.4.2.6.0"/>
		<def name="cacheBlockingGetHostByAddr"		value="1.4.2.7.0"/>
		
		<def name="cacheDnsRequests"				value="1.4.3.1.0"/>
		<def name="cacheDnsReplies"					value="1.4.3.2.0"/>
		<def name="cacheDnsNumberServers"			value="1.4.3.3.0"/>
	</definitions>
	
	<datasources>
		<!-- Squid SNMP default port is 3401 -->
		<param name="snmp-port" value="3401"/>
		
		<template name="squid-storagegroup">
			<subtree name="Storage">
				<param name="descriptive-nickname" value="%system-id%"/>
				<param name="data-file" value="%system-id%_squid_storage.rrd"/>
				<param name="graph-title" value="%descriptive-nickname%"/>

				<param name="rrd-create-dstype" value="GAUGE"/>
				<param name="rrd-create-min" value="0"/>

				<param name="graph-legend" value="%comment%"/>
				
				<param name="comment" value="Swap and memory storage statistics"/>
				<param name="precedence" value="70"/>
				
				<!-- View parameters -->
				<param name="default-subtree-view" value="expanded-dir-html"/>

				<leaf name="VM_size">
					<param name="snmp-object" value="$squid.$cacheSysVMsize"/>
					<param name="rrd-ds" value="VMSize"/>
					<param name="collector-scale" value="1024,*"/>
					
					<param name="comment" value="Virtual Memory size"/>
					<param name="graph-legend" value="VM size"/>
					<param name="vertical-label" value="bytes"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="Storage_Swap_size">
					<param name="snmp-object" value="$squid.$cacheSysStorage"/>
					<param name="rrd-ds" value="SysStorage"/>
					<param name="collector-scale" value="1024,*"/>

					<param name="comment" value="Storage Swap size"/>
					<param name="vertical-label" value="bytes"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="Cache_Memory_max_size">
					<param name="snmp-object" value="$squid.$cacheMemMaxSize"/>
					<param name="rrd-ds" value="MemMaxSize"/>
					<param name="collector-scale" value="1048576,*"/>
					
					<param name="comment" value="Cache Memory size limit"/>
					<param name="vertical-label" value="bytes"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="line-color" value="##red"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="Storage_Swap_max_size">
					<param name="snmp-object" value="$squid.$cacheSwapMaxSize"/>
					<param name="rrd-ds" value="SwapMaxSize"/>
					<param name="collector-scale" value="1048576,*"/>
					
					<param name="comment" value="Swap size limit"/>
					<param name="vertical-label" value="bytes"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="line-color" value="##red"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="Storage_Swap_high_watermark">
					<param name="snmp-object" value="$squid.$cacheSwapHighWM"/>
					<param name="rrd-ds" value="SwapHighWM"/>
					<param name="rrd-create-max" value="100"/>
					
					<param name="comment" value="Swap high watermark"/>
					<param name="vertical-label" value="%"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="graph-higher-limit" value="100"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="Storage_Swap_low_watermark">
					<param name="snmp-object" value="$squid.$cacheSwapLowWM"/>
					<param name="rrd-ds" value="SwapLowWM"/>
					<param name="rrd-create-max" value="100"/>
					
					<param name="comment" value="Swap low watermark"/>
					<param name="vertical-label" value="%"/>
					<param name="graph-lower-limit" value="0"/>
					<param name="graph-higher-limit" value="100"/>
					<param name="hidden" value="yes"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="Swap">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="SwapSize,MaxSwapSize,LowWatermark,HighWatermark"/>
					<param name="comment" value="Swap"/>
					<param name="vertical-label" value="bytes"/>
					<param name="precedence" value="90"/>
					
					<param name="ds-expr-SwapSize" value="{Storage_Swap_size}"/>
					<param name="graph-legend-SwapSize" value="Swap size"/>
					<param name="line-style-SwapSize" value="AREA"/>
					<param name="line-color-SwapSize" value="##blue"/>
					<param name="line-order-SwapSize" value="1"/>
					
					<param name="ds-expr-LowWatermark" value="{Storage_Swap_low_watermark},100,/,{Storage_Swap_max_size},*"/>
					<param name="graph-legend-LowWatermark" value="Low watermark"/>
					<param name="line-style-LowWatermark" value="LINE1"/>
					<param name="line-color-LowWatermark" value="##green"/>
					<param name="line-order-LowWatermark" value="2"/>
					
					<param name="ds-expr-HighWatermark" value="{Storage_Swap_high_watermark},100,/,{Storage_Swap_max_size},*"/>
					<param name="graph-legend-HighWatermark" value="High watermark"/>
					<param name="line-style-HighWatermark" value="LINE1"/>
					<param name="line-color-HighWatermark" value="##orange"/>
					<param name="line-order-HighWatermark" value="3"/>
					
					<param name="ds-expr-MaxSwapSize" value="{Storage_Swap_max_size}"/>
					<param name="graph-legend-MaxSwapSize" value="Swap size limit"/>
					<param name="line-style-MaxSwapSize" value="LINE2"/>
					<param name="line-color-MaxSwapSize" value="##red"/>
					<param name="line-order-MaxSwapSize" value="4"/>
				</leaf>
				
				<leaf name="Swap_watermark_percentages">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="LowWatermark,HighWatermark"/>
					<param name="comment" value="Swap watermark percentages"/>
					<param name="vertical-label" value="%"/>
					<param name="precedence" value="10"/>
					
					<param name="ds-expr-LowWatermark" value="{Storage_Swap_low_watermark}"/>
					<param name="graph-legend-LowWatermark" value="Low watermark"/>
					<param name="line-style-LowWatermark" value="LINE1"/>
					<param name="line-color-LowWatermark" value="##green"/>
					<param name="line-order-LowWatermark" value="1"/>
					
					<param name="ds-expr-HighWatermark" value="{Storage_Swap_high_watermark}"/>
					<param name="graph-legend-HighWatermark" value="High watermark"/>
					<param name="line-style-HighWatermark" value="LINE1"/>
					<param name="line-color-HighWatermark" value="##orange"/>
					<param name="line-order-HighWatermark" value="2"/>
				</leaf>
				
				<leaf name="Memory">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="MaxCacheMem,VMSize"/>
					<param name="comment" value="Memory"/>
					<param name="vertical-label" value="bytes"/>
					<param name="precedence" value="100"/>
									
					<param name="ds-expr-VMSize" value="{VM_size}"/>
					<param name="graph-legend-VMSize" value="Virtual Memory size"/>
					<param name="line-style-VMSize" value="AREA"/>
					<param name="line-color-VMSize" value="##blue"/>
					<param name="line-order-VMSize" value="1"/>
					
					<param name="ds-expr-MaxCacheMem" value="{Cache_Memory_max_size}"/>
					<param name="graph-legend-MaxCacheMem" value="Cache Memory size limit"/>
					<param name="line-style-MaxCacheMem" value="LINE2"/>
					<param name="line-color-MaxCacheMem" value="##red"/>
					<param name="line-order-MaxCacheMem" value="2"/>
				</leaf>					
			</subtree>
		</template>
		
		<template name="squid-performancegroup">
			<subtree name="Performance">L			
				<param name="descriptive-nickname" value="%system-id%"/>
				<param name="data-file" value="%system-id%_squid_performance.rrd"/>
				<param name="graph-title" value="%descriptive-nickname%"/>
			
				<param name="rrd-create-min" value="0"/>

				<param name="graph-legend" value="%comment%"/>
				<param name="comment" value="Performance metrics"/>
				
				<param name="precedence" value="90"/>
				
				<!-- View parameters -->
				<param name="default-subtree-view" value="expanded-dir-html"/>
			
				<leaf name="Page_faults">
					<param name="snmp-object" value="$squid.$cacheSysPageFaults"/>
					<param name="rrd-ds" value="PageFaults"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="9223372036854775808"/>
					
					<param name="comment" value="Page faults"/>
					<param name="vertical-label" value="page faults/s"/>
				</leaf>
			
				<leaf name="IO_reads">
					<param name="snmp-object" value="$squid.$cacheSysNumReads"/>
					<param name="rrd-ds" value="NumReads"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="20000000"/>
											
					<param name="comment" value="I/O reads"/>
					<param name="vertical-label" value="operations/s"/>
					<param name="precedence" value="80"/>
				</leaf>
			
				<leaf name="Memory_usage">
					<param name="snmp-object" value="$squid.$cacheMemUsage"/>
					<param name="rrd-ds" value="MemUsage"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					<param name="collector-scale" value="1024,*"/>
					
					<param name="comment" value="Memory usage"/>
					<param name="vertical-label" value="bytes"/>
					<param name="line-style" value="AREA"/>
					<param name="precedence" value="90"/>
				</leaf>
			
				<leaf name="CPU_time_ms">
					<param name="snmp-object" value="$squid.$cacheCpuTime"/>
					<param name="rrd-ds" value="CPUTime"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="1000"/>
					
					<param name="hidden" value="yes"/>
				</leaf>
				<leaf name="CPU_time">
					<param name="ds-type" value="rrd-file"/>
					<param name="leaf-type" value="rrd-cdef"/>
					<param name="rpn-expr" value="{CPU_time_ms},100,*"/>

					<param name="comment" value="CPU usage"/>
					<param name="vertical-label" value="%"/>
					<param name="line-style" value="AREA"/>
					<param name="line-color" value="##green"/>
					<param name="precedence" value="90"/>
				</leaf>
			
				<leaf name="Max_resident_size">
					<param name="snmp-object" value="$squid.$cacheMaxResSize"/>
					<param name="rrd-ds" value="MaxResSize"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Max resident size"/>
					<param name="vertical-label" value="bytes"/>
				</leaf>
			
				<leaf name="Object_count">
					<param name="snmp-object" value="$squid.$cacheNumObjCount"/>
					<param name="rrd-ds" value="NumObjCount"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Cached object count"/>
					<param name="vertical-label" value="objects"/>
					<param name="precedence" value="60"/>
				</leaf>
			
				<leaf name="Unlink_requests">
					<param name="snmp-object" value="$squid.$cacheCurrentUnlinkRequests"/>
					<param name="rrd-ds" value="UnlinkRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="100000"/>
					
					<param name="comment" value="Unlink requests"/>
					<param name="vertical-label" value="unlinks/s"/>
				</leaf>
			
				<leaf name="Unused_FD_count">
					<param name="snmp-object" value="$squid.$cacheCurrentUnusedFDescrCnt"/>
					<param name="rrd-ds" value="UnusedFDs"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Unused file descriptors"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Reserved_FD_count">
					<param name="snmp-object" value="$squid.$cacheCurrentResFileDescrCnt"/>
					<param name="rrd-ds" value="ReservedFDs"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Unused file descriptors"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FD_count">
					<param name="snmp-object" value="$squid.$cacheCurrentFileDescrCnt"/>
					<param name="rrd-ds" value="FDs"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Used file descriptors"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FD_maximum">
					<param name="snmp-object" value="$squid.$cacheCurrentFileDescrMax"/>
					<param name="rrd-ds" value="MaxFDs"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Maximum file descriptors"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Request_hit_ratio">
					<param name="snmp-object" value="$squid.$cacheRequestHitRatio.1"/>
					<param name="rrd-ds" value="RequestHitRatio"/>
					<param name="rrd-create-max" value="100"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Request hit ratio"/>
					<param name="graph-legend" value="%"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Request_byte_ratio">
					<param name="snmp-object" value="$squid.$cacheRequestByteRatio.1"/>
					<param name="rrd-ds" value="RequestByteRatio"/>
					<param name="rrd-create-max" value="100"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Request byte ratio"/>
					<param name="graph-legend" value="%"/>
					<param name="hidden" value="yes"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="File_Descriptors">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="ReservedFDs,KeepaliveLimit,FDs,MaxFDs"/>
					<param name="comment" value="File descriptors"/>
					<param name="vertical-label" value="file descriptors"/>
					<param name="precedence" value="70"/>
					
					<param name="ds-expr-FDs" value="{FD_count}"/>
					<param name="graph-legend-FDs" value="File descriptors in use"/>
					<param name="line-style-FDs" value="LINE2"/>
					<param name="line-color-FDs" value="##blue"/>
					<param name="line-order-FDs" value="1"/>
					
					<param name="ds-expr-ReservedFDs" value="{Reserved_FD_count}"/>
					<param name="graph-legend-ReservedFDs" value="Reserved file descriptors"/>
					<param name="line-style-ReservedFDs" value="LINE1"/>
					<param name="line-color-ReservedFDs" value="##grey"/>
					<param name="line-order-ReservedFDs" value="2"/>

					<param name="ds-expr-KeepaliveLimit" value="{FD_count},{Unused_FD_count},+,0.75,*"/>
					<param name="graph-legend-KeepaliveLimit" value="Keepalive threshold"/>
					<param name="line-style-KeepaliveLimit" value="LINE1"/>
					<param name="line-color-KeepaliveLimit" value="##orange"/>
					<param name="line-order-KeepaliveLimit" value="3"/>
					
					<param name="ds-expr-MaxFDs" value="{FD_count},{Unused_FD_count},+"/>
					<param name="graph-legend-MaxFDs" value="File descriptor limit"/>
					<param name="line-style-MaxFDs" value="LINE2"/>
					<param name="line-color-MaxFDs" value="##red"/>
					<param name="line-order-MaxFDs" value="4"/>
				</leaf>
				
				<leaf name="Hit_ratios">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="RequestHitRatio,ByteHitRatio"/>
					<param name="comment" value="Hit ratios"/>
					<param name="vertical-label" value="%"/>
					<param name="precedence" value="100"/>
					
					<param name="ds-expr-RequestHitRatio" value="{Request_hit_ratio}"/>
					<param name="graph-legend-RequestHitRatio" value="Request hit ratio"/>
					<param name="line-style-RequestHitRatio" value="LINE1"/>
					<param name="line-color-RequestHitRatio" value="##green"/>
					<param name="line-order-RequestHitRatio" value="1"/>

					<param name="ds-expr-ByteHitRatio" value="{Request_byte_ratio}"/>
					<param name="graph-legend-ByteHitRatio" value="Byte hit ratio"/>
					<param name="line-style-ByteHitRatio" value="LINE1"/>
					<param name="line-color-ByteHitRatio" value="##blue"/>
					<param name="line-order-ByteHitRatio" value="2"/>
				</leaf>			
			</subtree>
		</template>
		
		<template name="squid-usagegroup">
			<subtree name="Usage">			
				<param name="descriptive-nickname" value="%system-id%"/>
				<param name="data-file" value="%system-id%_squid_usage.rrd"/>
				<param name="graph-title" value="%descriptive-nickname%"/>
			
				<param name="rrd-create-min" value="0"/>
				<param name="graph-legend" value="%comment%"/>
				<param name="comment" value="Usage statistics"/>
				
				<param name="precedence" value="100"/>
				
				<!-- View parameters -->
				<param name="default-subtree-view" value="expanded-dir-html"/>
				
				<leaf name="HTTP_requests">
					<param name="snmp-object" value="$squid.$cacheHttpRequests"/>
					<param name="rrd-ds" value="HttpRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="50000"/>
					
					<param name="comment" value="HTTP requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="HTTP requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="HTTP_hits">
					<param name="snmp-object" value="$squid.$cacheHttpHits"/>
					<param name="rrd-ds" value="HttpHits"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="50000"/>
					
					<param name="comment" value="HTTP cache hit requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="HTTP hit requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="HTTP_errors">
					<param name="snmp-object" value="$squid.$cacheHttpErrors"/>
					<param name="rrd-ds" value="HttpErrors"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="50000"/>
					
					<param name="comment" value="HTTP errors"/>
					<param name="vertical-label" value="errors/s"/>
					<param name="graph-legend" value="HTTP errors"/>
					<param name="line-color" value="##red"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Client_HTTP_kbytes_received">
					<param name="snmp-object" value="$squid.$cacheHttpInKb"/>
					<param name="rrd-ds" value="HttpInKb"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="1250000"/>
					
					<param name="comment" value="HTTP kbytes received"/>
					<param name="vertical-label" value="kbytes/s"/>
					<param name="graph-legend" value="Received"/>
					<param name="line-color" value="##in"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Client_HTTP_kbytes_sent">
					<param name="snmp-object" value="$squid.$cacheHttpOutKb"/>
					<param name="rrd-ds" value="HttpOutKb"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="1250000"/>
					
					<param name="comment" value="HTTP bytes sent"/>
					<param name="vertical-label" value="kbytes/s"/>
					<param name="graph-legend" value="Sent"/>
					<param name="line-color" value="##out"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_packets_sent">
					<param name="snmp-object" value="$squid.$cacheIcpPktsSent"/>
					<param name="rrd-ds" value="IcpPktsSent"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="ICP packets sent"/>
					<param name="vertical-label" value="packets/s"/>
					<param name="graph-legend" value="Sent"/>
					<param name="line-color" value="##out"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_packets_received">
					<param name="snmp-object" value="$squid.$cacheIcpPktsRecv"/>
					<param name="rrd-ds" value="IcpPktsRecv"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="ICP packets received"/>
					<param name="vertical-label" value="packets/s"/>
					<param name="graph-legend" value="Received"/>
					<param name="line-color" value="##in"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_bytes_sent">
					<param name="snmp-object" value="$squid.$cacheIcpKbSent"/>
					<param name="rrd-ds" value="IcpKbSent"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="1000000"/>
					
					<param name="comment" value="ICP bytes sent"/>
					<param name="vertical-label" value="bytes/s"/>
					<param name="graph-legend" value="Sent"/>
					<param name="line-color" value="##out"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_bytes_received">
					<param name="snmp-object" value="$squid.$cacheIcpKbRecv"/>
					<param name="rrd-ds" value="IcpKbRecv"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="1000000"/>
					
					<param name="comment" value="ICP bytes received"/>
					<param name="vertical-label" value="bytes/s"/>
					<param name="graph-legend" value="Received"/>
					<param name="line-color" value="##in"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Server_side_HTTP_requests">
					<param name="snmp-object" value="$squid.$cacheServerRequests"/>
					<param name="rrd-ds" value="ServerRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="50000"/>
					
					<param name="comment" value="Server side (backend) requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="Backend requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Server_side_HTTP_errors">
					<param name="snmp-object" value="$squid.$cacheServerErrors"/>
					<param name="rrd-ds" value="ServerErrors"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="50000"/>
					
					<param name="comment" value="Server side (backend) request errors"/>
					<param name="vertical-label" value="errors/s"/>
					<param name="graph-legend" value="Backend errors"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Server_side_kbytes_received">
					<param name="snmp-object" value="$squid.$cacheServerInKb"/>
					<param name="rrd-ds" value="ServerInKb"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="10000000"/>
					
					<param name="comment" value="Server side bytes received"/>
					<param name="vertical-label" value="kbytes/s"/>
					<param name="graph-legend" value="Received"/>
					<param name="line-color" value="##in"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Server_side_kbytes_sent">
					<param name="snmp-object" value="$squid.$cacheServerOutKb"/>
					<param name="rrd-ds" value="ServerOutKb"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="10000000"/>
					
					<param name="comment" value="Server side bytes sent"/>
					<param name="vertical-label" value="kbytes/s"/>
					<param name="graph-legend" value="Sent"/>
					<param name="line-color" value="##out"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Client_count">
					<param name="snmp-object" value="$squid.$cacheClients"/>
					<param name="rrd-ds" value="Clients"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="Cache client count"/>
					<param name="vertical-label" value="clients"/>
					<param name="graph-legend" value="Clients"/>
					<param name="precedence" value="40"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="Client_requests">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Requests,Hits,Errors"/>
					<param name="comment" value="Client requests/hits/errors"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="precedence" value="100"/>
					
					<param name="ds-expr-Requests" value="{HTTP_requests}"/>
					<param name="graph-legend-Requests" value="Requests"/>
					<param name="line-style-Requests" value="AREA"/>
					<param name="line-color-Requests" value="##green"/>
					<param name="line-order-Requests" value="1"/>
					
					<param name="ds-expr-Hits" value="{HTTP_hits}"/>
					<param name="graph-legend-Hits" value="Cache hits"/>
					<param name="line-style-Hits" value="LINE1"/>
					<param name="line-color-Hits" value="##blue"/>
					<param name="line-order-Hits" value="2"/>
					
					<param name="ds-expr-Errors" value="{HTTP_errors}"/>
					<param name="graph-legend-Errors" value="Errors"/>
					<param name="line-style-Errors" value="LINE1"/>
					<param name="line-color-Errors" value="##red"/>
					<param name="line-order-Errors" value="3"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="Server_side_requests">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Requests,Errors"/>
					<param name="comment" value="Server side (backend) requests/hits/errors"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="precedence" value="80"/>
					
					<param name="ds-expr-Requests" value="{Server_side_HTTP_requests}"/>
					<param name="graph-legend-Requests" value="Requests"/>
					<param name="line-style-Requests" value="AREA"/>
					<param name="line-color-Requests" value="##green"/>
					<param name="line-order-Requests" value="1"/>
					
					<param name="ds-expr-Errors" value="{Server_side_HTTP_errors}"/>
					<param name="graph-legend-Errors" value="Errors"/>
					<param name="line-style-Errors" value="LINE1"/>
					<param name="line-color-Errors" value="##red"/>
					<param name="line-order-Errors" value="2"/>
				</leaf>
				
				<leaf name="Client_traffic">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Received,Sent"/>
					<param name="comment" value="Client traffic"/>
					<param name="vertical-label" value="bits/s"/>
					<param name="precedence" value="90"/>
					
					<param name="ds-expr-Received" value="{Client_HTTP_kbytes_received},8192,*"/>
					<param name="graph-legend-Received" value="Received"/>
					<param name="line-style-Received" value="LINE2"/>
					<param name="line-color-Received" value="##in"/>
					<param name="line-order-Received" value="1"/>

					<param name="ds-expr-Sent" value="{Client_HTTP_kbytes_sent},8192,*"/>
					<param name="graph-legend-Sent" value="Sent"/>
					<param name="line-style-Sent" value="LINE2"/>
					<param name="line-color-Sent" value="##out"/>
					<param name="line-order-Sent" value="2"/>
				</leaf>
				
				<leaf name="Server_side_traffic">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Received,Sent"/>
					<param name="comment" value="Server side (backend) traffic"/>
					<param name="vertical-label" value="bits/s"/>
					<param name="precedence" value="70"/>
					
					<param name="ds-expr-Received" value="{Server_side_kbytes_received},8192,*"/>
					<param name="graph-legend-Received" value="Received"/>
					<param name="line-style-Received" value="LINE2"/>
					<param name="line-color-Received" value="##in"/>
					<param name="line-order-Received" value="1"/>

					<param name="ds-expr-Sent" value="{Server_side_kbytes_sent},8192,*"/>
					<param name="graph-legend-Sent" value="Sent"/>
					<param name="line-style-Sent" value="LINE2"/>
					<param name="line-color-Sent" value="##out"/>
					<param name="line-order-Sent" value="2"/>
				</leaf>

				<leaf name="ICP_traffic">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Received,Sent"/>
					<param name="comment" value="ICP traffic"/>
					<param name="vertical-label" value="bits/s"/>
					<param name="precedence" value="50"/>
					
					<param name="ds-expr-Received" value="{ICP_bytes_received},8,*"/>
					<param name="graph-legend-Received" value="Received"/>
					<param name="line-style-Received" value="LINE2"/>
					<param name="line-color-Received" value="##in"/>
					<param name="line-order-Received" value="1"/>

					<param name="ds-expr-Sent" value="{ICP_bytes_sent},8,*"/>
					<param name="graph-legend-Sent" value="Sent"/>
					<param name="line-style-Sent" value="LINE2"/>
					<param name="line-color-Sent" value="##out"/>
					<param name="line-order-Sent" value="2"/>
				</leaf>
				
				<leaf name="ICP_packets">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Received,Sent"/>
					<param name="comment" value="ICP packets"/>
					<param name="vertical-label" value="packets/s"/>
					<param name="precedence" value="60"/>
					
					<param name="ds-expr-Received" value="{ICP_packets_received}"/>
					<param name="graph-legend-Received" value="Received"/>
					<param name="line-style-Received" value="LINE2"/>
					<param name="line-color-Received" value="##in"/>
					<param name="line-order-Received" value="1"/>

					<param name="ds-expr-Sent" value="{ICP_packets_sent}"/>
					<param name="graph-legend-Sent" value="Sent"/>
					<param name="line-style-Sent" value="LINE2"/>
					<param name="line-color-Sent" value="##out"/>
					<param name="line-order-Sent" value="2"/>
				</leaf>
			</subtree>
		</template>
		
		<template name="squid-servicetimesgroup">
			<subtree name="Service_times">			
				<param name="descriptive-nickname" value="%system-id%"/>
				<param name="data-file" value="%system-id%_squid_svctime.rrd"/>
				<param name="graph-title" value="%descriptive-nickname%"/>
			
				<param name="rrd-create-min" value="0"/>
				<param name="rrd-create-dstype" value="GAUGE"/>

				<param name="graph-legend" value="%comment%"/>
				<param name="comment" value="Service times"/>
				
				<param name="precedence" value="80"/>
				
				<!-- View parameters -->
				<param name="default-subtree-view" value="expanded-dir-html"/>

				<param name="vertical-label" value="seconds"/>
				<param name="line-style" value="LINE1"/>
			
				<leaf name="Average_HTTP_request_service_time">
					<param name="snmp-object" value="$squid.$cacheHttpAllSvcTime.1"/>
					<param name="rrd-ds" value="HttpAllSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="All HTTP requests (averaged)"/>
					<param name="graph-legend" value="All HTTP requests"/>
					<param name="precedence" value="100"/>
				</leaf>
			
				<leaf name="Miss_HTTP_requests_service_time">
					<param name="snmp-object" value="$squid.$cacheHttpMissSvcTime.1"/>
					<param name="rrd-ds" value="HttpMissSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="HTTP requests which generated cache misses"/>
					<param name="graph-legend" value="HTTP miss requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Not_Modified_HTTP_requests_service_time">
					<param name="snmp-object" value="$squid.$cacheHttpNmSvcTime.1"/>
					<param name="rrd-ds" value="HttpNmSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="HTTP requests which generated Not Modified responses"/>
					<param name="graph-legend" value="Not Modified HTTP requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Hit_HTTP_requests_service_time">
					<param name="snmp-object" value="$squid.$cacheHttpHitSvcTime.1"/>
					<param name="rrd-ds" value="HttpHitSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="HTTP requests served from the cache"/>
					<param name="graph-legend" value="HTTP hit requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_query_service_time">
					<param name="snmp-object" value="$squid.$cacheIcpQuerySvcTime.1"/>
					<param name="rrd-ds" value="IcpQuerySvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="ICP query service time"/>
					<param name="graph-legend" value="ICP queries"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="ICP_reply_service_time">
					<param name="snmp-object" value="$squid.$cacheIcpReplySvcTime.1"/>
					<param name="rrd-ds" value="IcpReplySvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="ICP response service time"/>
					<param name="graph-legend" value="ICP response"/>
					<param name="hidden" value="yes"/>
				</leaf>

				<leaf name="DNS_service_time">
					<param name="snmp-object" value="$squid.$cacheDnsSvcTime.1"/>
					<param name="rrd-ds" value="DnsSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="DNS query service time"/>
					<param name="graph-legend" value="DNS query"/>
					<param name="precedence" value="40"/>
				</leaf>

				<leaf name="Refresh_Hit_HTTP_requests_service_time">
					<param name="snmp-object" value="$squid.$cacheHttpNhSvcTime.1"/>
					<param name="rrd-ds" value="HttpNhSvcTime"/>
					<param name="rrd-create-max" value="300"/>
					<param name="collector-scale" value="1000,/"/>
					
					<param name="comment" value="HTTP requests which generated a refresh hit"/>
					<param name="graph-legend" value="Refresh hit HTTP requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="HTTP_service_times">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="All,Miss,NotModified,Hit,RefreshHit"/>
					<param name="comment" value="HTTP service times"/>
					<param name="vertical-label" value="seconds"/>
					<param name="precedence" value="90"/>
					
					<param name="ds-expr-All" value="{Average_HTTP_request_service_time}"/>
					<param name="graph-legend-All" value="All requests"/>
					<param name="line-style-All" value="LINE1"/>
					<param name="line-color-All" value="##green"/>
					<param name="line-order-All" value="1"/>
					
					<param name="ds-expr-NotModified" value="{Not_Modified_HTTP_requests_service_time}"/>
					<param name="graph-legend-NotModified" value="HTTP Not Modified requests"/>
					<param name="line-style-NotModified" value="LINE1"/>
					<param name="line-color-NotModified" value="##yellow"/>
					<param name="line-order-NotModified" value="2"/>
					
					<param name="ds-expr-Hit" value="{Hit_HTTP_requests_service_time}"/>
					<param name="graph-legend-Hit" value="HTTP hit requests"/>
					<param name="line-style-Hit" value="LINE1"/>
					<param name="line-color-Hit" value="##purple"/>
					<param name="line-order-Hit" value="3"/>
					
					<param name="ds-expr-RefreshHit" value="{Refresh_Hit_HTTP_requests_service_time}"/>
					<param name="graph-legend-RefreshHit" value="Refresh hit HTTP requests"/>
					<param name="line-style-RefreshHit" value="LINE1"/>
					<param name="line-color-RefreshHit" value="##orange"/>
					<param name="line-order-RefreshHit" value="4"/>
					
					<param name="ds-expr-Miss" value="{Miss_HTTP_requests_service_time}"/>
					<param name="graph-legend-Miss" value="HTTP miss requests"/>
					<param name="line-style-Miss" value="LINE1"/>
					<param name="line-color-Miss" value="##blue"/>
					<param name="line-order-Miss" value="5"/>
				</leaf>

				<leaf name="Low_HTTP_service_times">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="NotModified,Hit"/>
					<param name="comment" value="HTTP hit service times"/>
					<param name="vertical-label" value="seconds"/>
					<param name="precedence" value="80"/>
					
					<param name="ds-expr-NotModified" value="{Not_Modified_HTTP_requests_service_time}"/>
					<param name="graph-legend-NotModified" value="HTTP Not Modified requests"/>
					<param name="line-style-NotModified" value="LINE1"/>
					<param name="line-color-NotModified" value="##yellow"/>
					<param name="line-order-NotModified" value="1"/>
					
					<param name="ds-expr-Hit" value="{Hit_HTTP_requests_service_time}"/>
					<param name="graph-legend-Hit" value="HTTP hit requests"/>
					<param name="line-style-Hit" value="LINE1"/>
					<param name="line-color-Hit" value="##purple"/>
					<param name="line-order-Hit" value="2"/>
				</leaf>
					
				<leaf name="ICP_service_times">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Queries,Replies"/>
					<param name="comment" value="ICP service times"/>
					<param name="vertical-label" value="seconds"/>
					<param name="precedence" value="50"/>
					
					<param name="ds-expr-Queries" value="{ICP_query_service_time}"/>
					<param name="graph-legend-Queries" value="ICP queries"/>
					<param name="line-style-Queries" value="LINE1"/>
					<param name="line-color-Queries" value="##green"/>
					<param name="line-order-Queries" value="1"/>
					
					<param name="ds-expr-Replies" value="{ICP_reply_service_time}"/>
					<param name="graph-legend-Replies" value="ICP replies"/>
					<param name="line-style-Replies" value="LINE1"/>
					<param name="line-color-Replies" value="##blue"/>
					<param name="line-order-Replies" value="2"/>
				</leaf>
			</subtree>
		</template>
		
		<template name="squid-resolvinggroup">
			<subtree name="Resolving">			
				<param name="descriptive-nickname" value="%system-id%"/>
				<param name="data-file" value="%system-id%_squid_resolving.rrd"/>
				<param name="graph-title" value="%descriptive-nickname%"/>
			
				<param name="rrd-create-min" value="0"/>

				<param name="graph-legend" value="%comment%"/>
				<param name="comment" value="DNS and IP cache resolving statistics"/>
				
				<param name="precedence" value="50"/>
				
				<!-- View parameters -->
				<param name="default-subtree-view" value="expanded-dir-html"/>

				<leaf name="IP_cache_entries">
					<param name="snmp-object" value="$squid.$cacheIpEntries"/>
					<param name="rrd-ds" value="IpEntries"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="IP cache entry count"/>
					<param name="vertical-label" value="entries"/>
					<param name="graph-legend" value="IP cache entries"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="IP_cache_requests">
					<param name="snmp-object" value="$squid.$cacheIpRequests"/>
					<param name="rrd-ds" value="IpRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="IP cache requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="IP cache requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="IP_cache_hits">
					<param name="snmp-object" value="$squid.$cacheIpHits"/>
					<param name="rrd-ds" value="IpHits"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="IP cache request hits"/>
					<param name="vertical-label" value="hits/s"/>
					<param name="graph-legend" value="IP cache request hits"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="IP_cache_pending_hits">
					<param name="snmp-object" value="$squid.$cacheIpPendingHits"/>
					<param name="rrd-ds" value="IpPendingHits"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="IP cache request pending hits"/>
					<param name="vertical-label" value="pending hits"/>
					<param name="graph-legend" value="IP cache request pending hits"/>
				</leaf>
			
				<leaf name="IP_cache_negative_hits">
					<param name="snmp-object" value="$squid.$cacheIpNegativeHits"/>
					<param name="rrd-ds" value="IpNegativeHits"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="IP cache request negative hits"/>
					<param name="vertical-label" value="hits/s"/>
					<param name="graph-legend" value="IP cache request negative hits"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="IP_cache_misses">
					<param name="snmp-object" value="$squid.$cacheIpMisses"/>
					<param name="rrd-ds" value="IpMisses"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="IP cache request misses"/>
					<param name="vertical-label" value="misses/s"/>
					<param name="graph-legend" value="IP cache request misses"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="GetHostByName_requests">
					<param name="snmp-object" value="$squid.$cacheBlockingGetHostByName"/>
					<param name="rrd-ds" value="GetHostByNameReqs"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="Blocking gethostbyname() requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="gethostbyname() requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="Locked_IP_cache_entry_release_attempts">
					<param name="snmp-object" value="$squid.$cacheAttemptReleaseLckEntries"/>
					<param name="rrd-ds" value="LckIpRelAtmpts"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="Attempts to release IP cache entries while the cache is locked"/>
					<param name="vertical-label" value="attempts/s"/>
					<param name="graph-legend" value="Attempts"/>
				</leaf>
			
				<leaf name="FQDN_cache_entries">
					<param name="snmp-object" value="$squid.$cacheFqdnEntries"/>
					<param name="rrd-ds" value="FqdnEntries"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="FQDN cache entry count"/>
					<param name="vertical-label" value="entries"/>
					<param name="graph-legend" value="FQDN cache entries"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FQDN_cache_requests">
					<param name="snmp-object" value="$squid.$cacheFqdnRequests"/>
					<param name="rrd-ds" value="FqdnRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					
					<param name="comment" value="FQDN cache requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="FQDN cache requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FQDN_cache_hits">
					<param name="snmp-object" value="$squid.$cacheFqdnHits"/>
					<param name="rrd-ds" value="FqdnHits"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					
					<param name="comment" value="FQDN cache hits"/>
					<param name="vertical-label" value="hits/s"/>
					<param name="graph-legend" value="FQDN cache hits"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FQDN_cache_pending_hits">
					<param name="snmp-object" value="$squid.$cacheFqdnPendingHits"/>
					<param name="rrd-ds" value="FqdnPendingHits"/>
					<param name="rrd-create-dstype" value="GAUGE"/>
					
					<param name="comment" value="FQDN cache pending hits"/>
					<param name="vertical-label" value="pending hits"/>
					<param name="graph-legend" value="FQDN cache pending hits"/>
				</leaf>
			
				<leaf name="FQDN_cache_negative_hits">
					<param name="snmp-object" value="$squid.$cacheFqdnNegativeHits"/>
					<param name="rrd-ds" value="FqdnNegativeHits"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="FQDN cache negative hits"/>
					<param name="vertical-label" value="hits/s"/>
					<param name="graph-legend" value="FQDN cache negative hits"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="FQDN_cache_misses">
					<param name="snmp-object" value="$squid.$cacheFqdnMisses"/>
					<param name="rrd-ds" value="FqdnMisses"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="FQDN cache misses"/>
					<param name="vertical-label" value="misses/s"/>
					<param name="graph-legend" value="FQDN cache misses"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="GetHostByAddr_requests">
					<param name="snmp-object" value="$squid.$cacheBlockingGetHostByAddr"/>
					<param name="rrd-ds" value="GetHostByAddrReq"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="Blocking gethostbyaddr() requests"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="graph-legend" value="gethostbyaddr() requests"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="DNS_queries">
					<param name="snmp-object" value="$squid.$cacheDnsRequests"/>
					<param name="rrd-ds" value="DnsRequests"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="DNS queries"/>
					<param name="vertical-label" value="queries/s"/>
					<param name="graph-legend" value="DNS queries"/>
					<param name="line-color" value="##out"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="DNS_replies">
					<param name="snmp-object" value="$squid.$cacheDnsReplies"/>
					<param name="rrd-ds" value="DnsReplies"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="DNS replies"/>
					<param name="vertical-label" value="replies/s"/>
					<param name="graph-legend" value="DNS replies"/>
					<param name="line-color" value="##in"/>
					<param name="hidden" value="yes"/>
				</leaf>
			
				<leaf name="DNSServer_processes">
					<param name="snmp-object" value="$squid.$cacheDnsNumberServers"/>
					<param name="rrd-ds" value="DnsNumberServers"/>
					<param name="rrd-create-dstype" value="COUNTER"/>
					<param name="rrd-create-max" value="2000000"/>
					
					<param name="comment" value="DNSServer process instantiations"/>
					<param name="vertical-label" value="forks/s"/>
					<param name="graph-legend" value="DNSServer instantiations"/>
				</leaf>
				
				<!-- Multigraph views -->
				<leaf name="Cache_entries">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="IP,FQDN"/>
					<param name="comment" value="Cache entry counts"/>
					<param name="vertical-label" value="entries"/>
					<param name="precedence" value="100"/>
					
					<param name="ds-expr-IP" value="{IP_cache_entries}"/>
					<param name="graph-legend-IP" value="IP cache"/>
					<param name="line-style-IP" value="LINE2"/>
					<param name="line-color-IP" value="##green"/>
					<param name="line-order-IP" value="1"/>
					
					<param name="ds-expr-FQDN" value="{FQDN_cache_entries}"/>
					<param name="graph-legend-FQDN" value="FQDN cache"/>
					<param name="line-style-FQDN" value="LINE2"/>
					<param name="line-color-FQDN" value="##blue"/>
					<param name="line-order-FQDN" value="2"/>
				</leaf>
				
				<leaf name="IP_cache_usage">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Requests,Hits,NegativeHits,Misses"/>
					<param name="comment" value="IP cache usage"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="precedence" value="90"/>
					
					<param name="ds-expr-Requests" value="{IP_cache_requests}"/>
					<param name="graph-legend-Requests" value="Requests"/>
					<param name="line-style-Requests" value="AREA"/>
					<param name="line-color-Requests" value="##green"/>
					<param name="line-order-Requests" value="1"/>

					<param name="ds-expr-Hits" value="{IP_cache_hits}"/>
					<param name="graph-legend-Hits" value="Hits"/>
					<param name="line-style-Hits" value="LINE1"/>
					<param name="line-color-Hits" value="##blue"/>
					<param name="line-order-Hits" value="2"/>
					
					<param name="ds-expr-NegativeHits" value="{IP_cache_negative_hits}"/>
					<param name="graph-legend-NegativeHits" value="Negative hits"/>
					<param name="line-style-NegativeHits" value="LINE1"/>
					<param name="line-color-NegativeHits" value="##orange"/>
					<param name="line-order-NegativeHits" value="3"/>
					
					<param name="ds-expr-Misses" value="{IP_cache_misses}"/>
					<param name="graph-legend-Misses" value="Misses"/>
					<param name="line-style-Misses" value="LINE1"/>
					<param name="line-color-Misses" value="##black"/>
					<param name="line-order-Misses" value="4"/>
				</leaf>
				
				<leaf name="FQDN_cache_usage">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Requests,Hits,NegativeHits,Misses"/>
					<param name="comment" value="FQDN cache usage"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="precedence" value="90"/>
					
					<param name="ds-expr-Requests" value="{FQDN_cache_requests}"/>
					<param name="graph-legend-Requests" value="Requests"/>
					<param name="line-style-Requests" value="AREA"/>
					<param name="line-color-Requests" value="##green"/>
					<param name="line-order-Requests" value="1"/>

					<param name="ds-expr-Hits" value="{FQDN_cache_hits}"/>
					<param name="graph-legend-Hits" value="Hits"/>
					<param name="line-style-Hits" value="LINE1"/>
					<param name="line-color-Hits" value="##blue"/>
					<param name="line-order-Hits" value="2"/>
					
					<param name="ds-expr-NegativeHits" value="{FQDN_cache_negative_hits}"/>
					<param name="graph-legend-NegativeHits" value="Negative hits"/>
					<param name="line-style-NegativeHits" value="LINE1"/>
					<param name="line-color-NegativeHits" value="##orange"/>
					<param name="line-order-NegativeHits" value="3"/>
					
					<param name="ds-expr-Misses" value="{FQDN_cache_misses}"/>
					<param name="graph-legend-Misses" value="Misses"/>
					<param name="line-style-Misses" value="LINE1"/>
					<param name="line-color-Misses" value="##black"/>
					<param name="line-order-Misses" value="4"/>
				</leaf>
				
				<leaf name="DNS_requests">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="Queries,Replies"/>
					<param name="comment" value="DNS queries and responses"/>
					<param name="vertical-label" value="requests/s"/>
					<param name="precedence" value="80"/>
					
					<param name="ds-expr-Queries" value="{DNS_queries}"/>
					<param name="graph-legend-Queries" value="DNS queries"/>
					<param name="line-style-Queries" value="LINE2"/>
					<param name="line-color-Queries" value="##out"/>
					<param name="line-order-Queries" value="1"/>
					
					<param name="ds-expr-Replies" value="{DNS_replies}"/>
					<param name="graph-legend-Replies" value="DNS replies"/>
					<param name="line-style-Replies" value="LINE2"/>
					<param name="line-color-Replies" value="##in"/>
					<param name="line-order-Replies" value="2"/>
				</leaf>
				
				<leaf name="Blocking_syscalls">
					<param name="ds-type" value="rrd-multigraph"/>
					<param name="ds-names" value="GetHostByName,GetHostByAddr"/>
					<param name="comment" value="gethostbyname() and gethostbyaddr() blocking syscalls"/>
					<param name="vertical-label" value="syscalls/s"/>
					
					<param name="ds-expr-GetHostByName" value="{GetHostByName_requests}"/>
					<param name="graph-legend-GetHostByName" value="gethostbyname() requests"/>
					<param name="line-style-GetHostByName" value="LINE2"/>
					<param name="line-color-GetHostByName" value="##green"/>
					<param name="line-order-GetHostByName" value="1"/>
			
					<param name="ds-expr-GetHostByAddr" value="{GetHostByAddr_requests}"/>
					<param name="graph-legend-GetHostByAddr" value="gethostbyaddr() requests"/>
					<param name="line-style-GetHostByAddr" value="LINE2"/>
					<param name="line-color-GetHostByAddr" value="##blue"/>
					<param name="line-order-GetHostByAddr" value="2"/>
				</leaf>
			</subtree>
		</template>
	</datasources>			
</configuration>
