######################################################################################
## THIS FILE IS MANAGED BY PUPPET                                                    #
## config for a relay-only tor installation                                          #
## https://www.torproject.org/docs/tor-doc-relay                                     #
## https://gitweb.torproject.org/tor.git/blob_plain/HEAD:/src/config/torrc.sample.in #
######################################################################################

## do not open socks proxy by default, run as relay only
SocksPort 0

## port for local connections from Tor controller
ControlPort <%= @controlport %>

## password for connections on the control port, generate hash with 'tor --hash-password'
HashedControlPassword <%= @controlpassword %>

## port for incoming Tor connections
ORPort <%= @orport %>

## if we have multiple NICs..
#OutboundBindAddress 10.0.0.5

## IP or DNS for incoming connections
Address <%= @address %>

# mirror directory information ('please do if enough bandwidth')
DirPort <%= @dirport %>

# this is what makes it a relay or an exit node
ExitPolicy <%= @exit_policy %>

# handle for the relay, so people don't have to refer to it by key.
Nickname <%= @nickname %>

# admin mail contact
ContactInfo <%= @contact %>

# "You should set MyFamily if you have administrative control
# of the computers or of their network, even if they're not
# all in the same geographic location."
MyFamily <%= @family %>

# "try to write to disk less frequently than we would otherwise"
# we enable this because we are on a box with SSD
AvoidDiskWrites 1
