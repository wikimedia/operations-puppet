generic-map => {
    geoip2_db => /usr/share/GeoIP/GeoIP2-City.mmdb
    datacenters => [eqiad codfw esams ulsfo]
    map => {
        # use ISO 3166-2 official names
        AF => [esams, eqiad, codfw, ulsfo],
        AS => {
            default => [ulsfo, codfw, eqiad, esams],
            AE => [esams, eqiad, codfw, ulsfo], # United Arab Emirates
            AF => [esams, eqiad, codfw, ulsfo], # Afghanistan
            AM => [esams, eqiad, codfw, ulsfo], # Armenia
            AP => [ulsfo, codfw, eqiad, esams], # Asia-Pacific region (misc)
            AZ => [esams, eqiad, codfw, ulsfo], # Azerbaijan
            BD => [ulsfo, codfw, eqiad, esams], # Bangladesh
            BH => [esams, eqiad, codfw, ulsfo], # Bahrain
            BN => [ulsfo, codfw, eqiad, esams], # Brunei Darussalam
            BT => [ulsfo, codfw, eqiad, esams], # Bhutan
            CC => [ulsfo, codfw, eqiad, esams], # Cocos (Keeling) Islands
            CN => [ulsfo, codfw, eqiad, esams], # China
            CX => [ulsfo, codfw, eqiad, esams], # Christmas Island
            CY => [esams, eqiad, codfw, ulsfo], # Cyprus
            GE => [esams, eqiad, codfw, ulsfo], # Georgia
            HK => [ulsfo, codfw, eqiad, esams], # Hong Kong
            ID => [ulsfo, codfw, eqiad, esams], # Indonesia
            IL => [esams, eqiad, codfw, ulsfo], # Israel
            IN => [esams, eqiad, codfw, ulsfo], # India
            IO => [esams, eqiad, codfw, ulsfo], # British Indian Ocean Territory
            IQ => [esams, eqiad, codfw, ulsfo], # Iraq
            IR => [esams, eqiad, codfw, ulsfo], # Iran (Islamic Republic of)
            JO => [esams, eqiad, codfw, ulsfo], # Jordan
            JP => [ulsfo, codfw, eqiad, esams], # Japan
            KG => [esams, eqiad, codfw, ulsfo], # Kyrgyzstan
            KH => [ulsfo, codfw, eqiad, esams], # Cambodia
            KP => [ulsfo, codfw, eqiad, esams], # Korea, Democratic People's Republic of
            KR => [ulsfo, codfw, eqiad, esams], # Korea, Republic of
            KW => [esams, eqiad, codfw, ulsfo], # Kuwait
            KZ => [esams, eqiad, codfw, ulsfo], # Kazakhstan
            LA => [ulsfo, codfw, eqiad, esams], # Lao People's Democratic Republic
            LB => [esams, eqiad, codfw, ulsfo], # Lebanon
            LK => [esams, eqiad, codfw, ulsfo], # Sri Lanka
            MM => [ulsfo, codfw, eqiad, esams], # Myanmar
            MN => [ulsfo, codfw, eqiad, esams], # Mongolia
            MO => [ulsfo, codfw, eqiad, esams], # Macao
            MV => [ulsfo, codfw, eqiad, esams], # Maldives
            MY => [ulsfo, codfw, eqiad, esams], # Malaysia
            NP => [ulsfo, codfw, eqiad, esams], # Nepal
            OM => [esams, eqiad, codfw, ulsfo], # Oman
            PH => [ulsfo, codfw, eqiad, esams], # Philippines
            PK => [esams, eqiad, codfw, ulsfo], # Pakistan
            PS => [esams, eqiad, codfw, ulsfo], # Palestine, State of
            QA => [esams, eqiad, codfw, ulsfo], # Qatar
            SA => [esams, eqiad, codfw, ulsfo], # Saudi Arabia
            SG => [ulsfo, codfw, eqiad, esams], # Singapore
            SY => [esams, eqiad, codfw, ulsfo], # Syrian Arab Republic
            TH => [ulsfo, codfw, eqiad, esams], # Thailand
            TJ => [esams, eqiad, codfw, ulsfo], # Tajikistan
            TL => [ulsfo, codfw, eqiad, esams], # Timor-Leste
            TM => [esams, eqiad, codfw, ulsfo], # Turkmenistan
            TW => [ulsfo, codfw, eqiad, esams], # Taiwan, Province of China
            UZ => [esams, eqiad, codfw, ulsfo], # Uzbekistan
            VN => [ulsfo, codfw, eqiad, esams], # Viet Nam
            YE => [esams, eqiad, codfw, ulsfo], # Yemen
        },
        EU => {
            default => [esams, eqiad, codfw, ulsfo],
            AD => [esams, eqiad, codfw, ulsfo], # Andorra
            AL => [esams, eqiad, codfw, ulsfo], # Albania
            AT => [esams, eqiad, codfw, ulsfo], # Austria
            AX => [esams, eqiad, codfw, ulsfo], # Ã…land Islands
            BA => [esams, eqiad, codfw, ulsfo], # Bosnia and Herzegowina
            BE => [esams, eqiad, codfw, ulsfo], # Belgium
            BG => [esams, eqiad, codfw, ulsfo], # Bulgaria
            BY => [esams, eqiad, codfw, ulsfo], # Belarus
            CH => [esams, eqiad, codfw, ulsfo], # Switzerland
            CZ => [esams, eqiad, codfw, ulsfo], # Czech Republic
            DE => [esams, eqiad, codfw, ulsfo], # Germany
            DK => [esams, eqiad, codfw, ulsfo], # Denmark
            EE => [esams, eqiad, codfw, ulsfo], # Estonia
            ES => [esams, eqiad, codfw, ulsfo], # Spain
            EU => [esams, eqiad, codfw, ulsfo], # Europe region (misc)
            FI => [esams, eqiad, codfw, ulsfo], # Finland
            FO => [esams, eqiad, codfw, ulsfo], # Faroe Islands
            FR => [esams, eqiad, codfw, ulsfo], # France
            GB => [esams, eqiad, codfw, ulsfo], # United Kingdom
            GG => [esams, eqiad, codfw, ulsfo], # Guernsey
            GI => [esams, eqiad, codfw, ulsfo], # Gibraltar
            GR => [esams, eqiad, codfw, ulsfo], # Greece
            HR => [esams, eqiad, codfw, ulsfo], # Croatia (local name Hrvatska)
            HU => [esams, eqiad, codfw, ulsfo], # Hungary
            IE => [esams, eqiad, codfw, ulsfo], # Ireland
            IM => [esams, eqiad, codfw, ulsfo], # Isle of Man
            IS => [esams, eqiad, codfw, ulsfo], # Iceland
            IT => [esams, eqiad, codfw, ulsfo], # Italy
            JE => [esams, eqiad, codfw, ulsfo], # Jersey
            LI => [esams, eqiad, codfw, ulsfo], # Liechtenstein
            LT => [esams, eqiad, codfw, ulsfo], # Lithuania
            LU => [esams, eqiad, codfw, ulsfo], # Luxembourg
            LV => [esams, eqiad, codfw, ulsfo], # Latvia
            MC => [esams, eqiad, codfw, ulsfo], # Monaco
            MD => [esams, eqiad, codfw, ulsfo], # Moldova, Republic of
            ME => [esams, eqiad, codfw, ulsfo], # Montenegro
            MK => [esams, eqiad, codfw, ulsfo], # Macedonia, the Former Yugoslav Republic of
            MT => [esams, eqiad, codfw, ulsfo], # Malta
            NL => [esams, eqiad, codfw, ulsfo], # Netherlands
            NO => [esams, eqiad, codfw, ulsfo], # Norway
            PL => [esams, eqiad, codfw, ulsfo], # Poland
            PT => [esams, eqiad, codfw, ulsfo], # Portugal
            RO => [esams, eqiad, codfw, ulsfo], # Romania
            RS => [esams, eqiad, codfw, ulsfo], # Serbia
            RU => [esams, eqiad, codfw, ulsfo], # Russian Federation
            SE => [esams, eqiad, codfw, ulsfo], # Sweden
            SI => [esams, eqiad, codfw, ulsfo], # Slovenia
            SJ => [esams, eqiad, codfw, ulsfo], # Svalbard and Jan Mayen Islands
            SK => [esams, eqiad, codfw, ulsfo], # Slovakia
            SM => [esams, eqiad, codfw, ulsfo], # San Marino
            TR => [esams, eqiad, codfw, ulsfo], # Turkey
            UA => [esams, eqiad, codfw, ulsfo], # Ukraine
            VA => [esams, eqiad, codfw, ulsfo], # Holy See (Vatican City State)
        },
        NA => {
            US => { # United States of America
                AK => [ulsfo, codfw, eqiad, esams], # Alaska
                AL => [codfw, eqiad, ulsfo, esams], # Alabama
                AR => [codfw, eqiad, ulsfo, esams], # Arkansas
                AZ => [ulsfo, codfw, eqiad, esams], # Arizona
                CA => [ulsfo, codfw, eqiad, esams], # California
                CO => [codfw, eqiad, ulsfo, esams], # Colorado
                CT => [eqiad, codfw, ulsfo, esams], # Connecticut
                DC => [eqiad, codfw, ulsfo, esams], # District of Columbia
                DE => [eqiad, codfw, ulsfo, esams], # Delaware
                FL => [eqiad, codfw, ulsfo, esams], # Florida
                GA => [eqiad, codfw, ulsfo, esams], # Georgia
                HI => [ulsfo, codfw, eqiad, esams], # Hawaii
                IA => [codfw, eqiad, ulsfo, esams], # Iowa
                ID => [ulsfo, codfw, eqiad, esams], # Idaho
                IL => [eqiad, codfw, ulsfo, esams], # Illinois
                IN => [eqiad, codfw, ulsfo, esams], # Indiana
                KS => [codfw, eqiad, ulsfo, esams], # Kansas
                KY => [eqiad, codfw, ulsfo, esams], # Kentucky
                LA => [codfw, eqiad, ulsfo, esams], # Louisiana
                MA => [eqiad, codfw, ulsfo, esams], # Massachusetts
                MD => [eqiad, codfw, ulsfo, esams], # Maryland
                ME => [eqiad, codfw, ulsfo, esams], # Maine
                MI => [eqiad, codfw, ulsfo, esams], # Michigan
                MN => [codfw, eqiad, ulsfo, esams], # Minnesota
                MO => [codfw, eqiad, ulsfo, esams], # Missouri
                MS => [codfw, eqiad, ulsfo, esams], # Mississippi
                MT => [ulsfo, codfw, eqiad, esams], # Montana
                NC => [eqiad, codfw, ulsfo, esams], # North Carolina
                ND => [codfw, eqiad, ulsfo, esams], # North Dakota
                NE => [codfw, eqiad, ulsfo, esams], # Nebraska
                NH => [eqiad, codfw, ulsfo, esams], # New Hampshire
                NJ => [eqiad, codfw, ulsfo, esams], # New Jersey
                NM => [codfw, eqiad, ulsfo, esams], # New Mexico
                NV => [ulsfo, codfw, eqiad, esams], # Nevada
                NY => [eqiad, codfw, ulsfo, esams], # New York
                OH => [eqiad, codfw, ulsfo, esams], # Ohio
                OK => [codfw, eqiad, ulsfo, esams], # Oklahoma
                OR => [ulsfo, codfw, eqiad, esams], # Oregon
                PA => [eqiad, codfw, ulsfo, esams], # Pennsylvania
                RI => [eqiad, codfw, ulsfo, esams], # Rhode Island
                SC => [eqiad, codfw, ulsfo, esams], # South Carolina
                SD => [codfw, eqiad, ulsfo, esams], # South Dakota
                TN => [eqiad, codfw, ulsfo, esams], # Tennessee
                TX => [codfw, eqiad, ulsfo, esams], # Texas
                UT => [ulsfo, codfw, eqiad, esams], # Utah
                VA => [eqiad, codfw, ulsfo, esams], # Virginia
                VT => [eqiad, codfw, ulsfo, esams], # Vermont
                WA => [ulsfo, codfw, eqiad, esams], # Washington
                WI => [eqiad, codfw, ulsfo, esams], # Wisconsin
                WV => [eqiad, codfw, ulsfo, esams], # West Virginia
                WY => [ulsfo, codfw, eqiad, esams], # Wyoming
            },
            CA => { # Canada
                AB => [ulsfo, codfw, eqiad, esams], # Alberta
                BC => [ulsfo, codfw, eqiad, esams], # British Columbia
                MB => [eqiad, codfw, ulsfo, esams], # Manitoba
                NB => [eqiad, codfw, ulsfo, esams], # New Brunswick
                NL => [eqiad, codfw, ulsfo, esams], # Newfoundland
                NS => [eqiad, codfw, ulsfo, esams], # Nova Scotia
                NT => [ulsfo, codfw, eqiad, esams], # Northwest Territories
                NU => [eqiad, codfw, ulsfo, esams], # Nunavut
                ON => [eqiad, codfw, ulsfo, esams], # Ontario
                PE => [eqiad, codfw, ulsfo, esams], # Prince Edward Island
                QC => [eqiad, codfw, ulsfo, esams], # Quebec
                SK => [eqiad, codfw, ulsfo, esams], # Saskatchewan
                YT => [ulsfo, codfw, eqiad, esams], # Yukon Territory
            },
            MX => [codfw, eqiad, ulsfo, esams], # Mexico
        },
        OC      => [ulsfo, codfw, eqiad, esams],
        default => [eqiad, codfw, ulsfo, esams],
    },
    nets = {
        # Wikimedia address space
        208.80.152.0/23   => [codfw, eqiad, ulsfo, esams], # codfw
        208.80.154.0/23   => [eqiad, codfw, ulsfo, esams], # eqiad
        91.198.174.0/24   => [esams, eqiad, codfw, ulsfo], # esams
        185.15.56.0/22    => [esams, eqiad, codfw, ulsfo], # esams
        198.35.26.0/23    => [ulsfo, codfw, eqiad, esams], # ulsfo
        2620:0:860::/48   => [codfw, eqiad, ulsfo, esams], # codfw
        2620:0:861::/48   => [eqiad, codfw, ulsfo, esams], # eqiad
        2620:0:862::/48   => [esams, eqiad, codfw, ulsfo], # esams
        2620:0:863::/48   => [ulsfo, codfw, eqiad, esams], # ulsfo
        198.73.209.0/24   => [ulsfo, codfw, eqiad, esams], # WMF OIT
        2620:62:c000::/48 => [ulsfo, codfw, eqiad, esams], # WMF OIT
        # Level3's DNS clusters
        192.221.132.0/22  => [eqiad, codfw, ulsfo, esams], # Atlanta
        192.221.136.0/22  => [eqiad, codfw, ulsfo, esams], # Chicago
        192.221.140.0/22  => [codfw, eqiad, ulsfo, esams], # Dallas
        192.221.148.0/22  => [ulsfo, codfw, eqiad, esams], # Los Angeles
        192.221.156.0/22  => [eqiad, codfw, ulsfo, esams], # New York
        192.221.160.0/22  => [ulsfo, codfw, eqiad, esams], # San Jose
        192.221.164.0/22  => [eqiad, codfw, ulsfo, esams], # Washington, DC
        8.0.4.0/22        => [eqiad, codfw, ulsfo, esams], # Atlanta
        8.0.8.0/22        => [eqiad, codfw, ulsfo, esams], # Chicago
        8.0.12.0/22       => [codfw, eqiad, ulsfo, esams], # Dallas
        8.0.20.0/22       => [ulsfo, codfw, eqiad, esams], # Los Angeles
        8.0.28.0/22       => [eqiad, codfw, ulsfo, esams], # New York
        8.0.32.0/22       => [ulsfo, codfw, eqiad, esams], # San Jose
        8.0.36.0/22       => [eqiad, codfw, ulsfo, esams], # Washington, DC
        # AT&T's DNS clusters (incomplete)
        151.164.0.0/16    => [ulsfo, codfw, eqiad, esams], # West Coast?
        12.121.112.0/22   => [ulsfo, codfw, eqiad, esams], # West Coast?
    },
}
