<%#- SPDX-License-Identifier: Apache-2.0 -%>
# This file is managed by Puppet!
# Confd config file for <%= @name %>

[template]
src = "<%= @safe_name %>.tmpl"
dest = "<%= @name %>"
<% if @uid %>uid = <%= @uid %><% end %>
<% if @gid %>gid = <%= @gid %><% end %>
mode = "<%= @mode %>"

keys = [
    <% @watch_keys.each do |key| -%>
    "<%= key %>",
    <% end -%>
]

<% if @_prefix != "" %>prefix = "<%= @_prefix %>"<% end %>
<% if @check %>check_cmd = "/usr/local/bin/confd-lint-wrap --resource <%= @safe_name %> -- <%= @check %> {{.src}}"<% end %>
<% if @reload %>reload_cmd = "<%= @reload %>"<% end %>
