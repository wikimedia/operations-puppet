-- SPDX-License-Identifier: Apache-2.0

CREATE ROLE IF NOT EXISTS data_gateway
    WITH PASSWORD = '<%= @application_password %>' AND LOGIN = true AND SUPERUSER = false;

-- Image Suggestions
GRANT SELECT ON image_suggestions.suggestions      TO data_gateway;
GRANT SELECT ON image_suggestions.feedback         TO data_gateway;
GRANT SELECT ON image_suggestions.title_cache      TO data_gateway;
GRANT SELECT ON image_suggestions.instanceof_cache TO data_gateway;

-- Commons Impact Metrics
GRANT SELECT ON commons.category_metrics_snapshot        TO data_gateway;
GRANT SELECT ON commons.media_file_metrics_snapshot      TO data_gateway;
GRANT SELECT ON commons.pageviews_per_category_monthly   TO data_gateway;
GRANT SELECT ON commons.pageviews_per_media_file_monthly TO data_gateway;
GRANT SELECT ON commons.edits_per_category_monthly       TO data_gateway;
GRANT SELECT ON commons.edits_per_user_monthly           TO data_gateway;
GRANT SELECT ON commons.top_pages_per_category_monthly   TO data_gateway;
GRANT SELECT ON commons.top_wikis_per_category_monthly   TO data_gateway;
GRANT SELECT ON commons.top_viewed_categories_monthly    TO data_gateway;
GRANT SELECT ON commons.top_pages_per_media_file_monthly TO data_gateway;
GRANT SELECT ON commons.top_wikis_per_media_file_monthly TO data_gateway;
GRANT SELECT ON commons.top_viewed_media_files_monthly   TO data_gateway;
GRANT SELECT ON commons.top_edited_categories_monthly    TO data_gateway;
GRANT SELECT ON commons.top_editors_monthly              TO data_gateway;
