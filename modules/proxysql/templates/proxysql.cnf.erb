<%#- SPDX-License-Identifier: Apache-2.0 -%>
#file proxysql.cfg
# WARNING: This file is managed by puppet, do not change it manually!

# This config file is parsed using libconfig , and its grammar is described in:
# http://www.hyperrealm.com/libconfig/libconfig_manual.html#Configuration-File-Grammar



datadir="<%= @datadir -%>"

admin_variables=
{
    admin_credentials="<%= @admin_user -%>:<%= @admin_password -%>"
    mysql_ifaces="<%= @admin_interface -%>:<%= @admin_port -%>;<%= @admin_socket -%>"
    refresh_interval=2000
    debug=true
}

mysql_variables=
{
    threads=4
    max_connections=2048
    default_query_delay=0
    default_query_timeout=36000000
    have_compress=true
    poll_timeout=2000
    interfaces="<%= @mysql_interface -%>:<%= @mysql_port -%>;<%= @mysql_socket -%>"
    default_schema="information_schema"
    stacksize=1048576
    server_version="5.5.30"
    connect_timeout_server=3000
    monitor_history=600000
    monitor_connect_interval=60000
    monitor_ping_interval=10000
    monitor_read_only_interval=1500
    monitor_read_only_timeout=500
    ping_interval_server=120000
    ping_timeout_server=500
    commands_stats=true
    sessions_sort=true
    connect_retries_on_failure=10
}


# defines all the MySQL servers
mysql_servers =
(
)


# defines all the MySQL users
mysql_users:
(
)



#defines MySQL Query Rules
mysql_query_rules:
(
)

scheduler=
(
)


mysql_replication_hostgroups=
(
)