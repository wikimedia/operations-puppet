# WARNING: this file is managed by puppet
# modules/zuul/templates/zuul-merger.conf.erb

# Configuration file for the Zuul merger
#
# The only sections needed by zuul-merger are gearman, gerrit, zuul and merger.

[gearman]
server=<%= @gearman_server %>

[gerrit]
server=<%= @gerrit_server %>
user=<%= @gerrit_user %>
<% if @gerrit_baseurl %>baseurl=<%= @gerrit_baseurl %><% end %>
sshkey=/var/lib/jenkins/.ssh/id_rsa

[zuul]
layout_config=/etc/zuul/wikimedia/layout.yaml
log_config=/etc/zuul/logging.conf
state_dir=/var/lib/zuul
git_dir=<%= @git_dir %>
url_pattern=<%= @url_pattern %>
status_url=<%= @status_url %>
zuul_url=<%= @zuul_url %>

[merger]
git_dir=<%= @git_dir %>
zuul_url=<%= @zuul_url %>
log_config=/etc/zuul/merger-logging.conf
<% if @git_email != "" -%>
git_user_email=<%= @git_email %>
<% end -%>
<% if @git_name != "" -%>
git_user_name=<%= @git_name %>
<% end -%>
