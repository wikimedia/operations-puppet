#####################################################################
##### THIS FILE IS MANAGED BY PUPPET
#####  as template('base/puppet.conf.d/10-main.conf.erb')
<% if @puppetbasics %>
####
#### This is a special labs puppet config that applies
####  a minimal puppet config regardless of host-local
####  changes or errors.
####
<% end %>
######################################################################

[main]
logdir = /var/log/puppet
vardir = /var/lib/puppet
ssldir = /var/lib/puppet/ssl
rundir = /var/run/puppet
factpath = $vardir/lib/facter

[agent]
server = <%= @server %>
<% if @puppetbasics %>
certname = <%= @puppetbasics %>
<% else %>
<% if @certname %>certname = <%= @certname %><% end %>
splay = true
<% end %>
configtimeout = 960
usecacheonfailure = false
prerun_command = /etc/puppet/etckeeper-commit-pre
postrun_command = /etc/puppet/etckeeper-commit-post
pluginsync = true
report = true
reports = statsd
