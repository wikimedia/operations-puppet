# Upstart job configuration for Carbon, a part of Graphite
# This file is managed by Puppet
description "Graphite metrics storage"

start on runlevel [2345] or mwprof.start
stop on runlevel [!2345] or mwprof.stop

task

pre-start script
    mkdir -p /run/mwprof
    chown -R mwprof:mwprof /run/mwprof
end script

script
    start mwprof/collector || status mwprof/collector
end script

# vim: set ft=upstart:
