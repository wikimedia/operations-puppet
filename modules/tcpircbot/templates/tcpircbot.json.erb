<%#- SPDX-License-Identifier: Apache-2.0 -%>
{
    "irc": {
        "channels": <%= Array(@channels).to_pson %>,
        "network": ["<%= @server_host %>", <%= @server_port %>, "<%= @nickname %>:<%= @password %>"],
        <% if @ssl %>"ssl": true,<% end %>
        "nickname": "<%= @nickname %>"
    },
    <% if @infiles %>"infiles": <%= Array(@infiles).to_pson %>,<% end %>
    "tcp": {
        "max_clients": <%= @max_clients %>,
        <% if @cidr %>"cidr": <%= Array(@cidr).to_pson %>,<% end %>
        "port": <%= @listen_port %>
    }
}
