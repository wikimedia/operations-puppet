# SPDX-License-Identifier: Apache-2.0

provider = "oidc"
provider_display_name = "Wikimedia SSO"
client_id = "<%= @client_id %>"
client_secret = "<%= @client_secret.unwrap %>"
redirect_url = "<%= @redirect_url %>"
code_challenge_method = "plain"
oidc_issuer_url = "<%= @issuer_url %>"
cookie_secret = "<%= @cookie_secret.unwrap %>"
cookie_domains = "<%= @cookie_domain %>"
email_domains = "<%= @email_domain %>"
skip_provider_button = "true"
upstreams = [
<% @upstreams.sort.each do |url| -%>
  "<%= url %>",
<% end -%>
]
<%- unless @skip_auth_routes.empty? -%>
skip_auth_routes = [
<% @skip_auth_routes.sort.each do |route| -%>
  "<%= route %>",
<% end -%>
]
<%- end -%>
