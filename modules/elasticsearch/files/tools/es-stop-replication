#!/usr/bin/env python

import sys
from elastictool import ElasticTool


class StopReplication(ElasticTool):
    def execute(self):
        if self.set_replication_state("primaries"):
            print "Non-primary replication disabled"
            sys.exit(0)
        else:
            print "Failed to set replication state"
            sys.exit(1)

if __name__ == "__main__":
    tool = StopReplication("Stop non-primary replication of shards")
    tool.run()
