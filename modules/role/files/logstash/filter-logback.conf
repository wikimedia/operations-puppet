# vim:set sw=2 ts=2 sts=2 et
# Parse logback input
filter {
  if [type] == "logback" {
    # General message cleanup
    mutate {
      replace => [ "host", "%{HOSTNAME}" ]
      add_tag => [ "logback", "es" ]
    }

    if [program] == "cassandra" {
      mutate {
        replace => [ "type",  "cassandra" ]
      }
    } # end [program] == "cassandra"

    if [program] == "thumbor" {
      mutate {
        remove_field => [ "port" ]
        replace => [ "type",  "thumbor" ]
      }
    } # end [program] == "thumbor"

  } # end [type] == "logback"
}
