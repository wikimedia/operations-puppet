-- haproxy
CREATE USER 'haproxy'@'10.64.16.155';

-- designate, labservices1002

CREATE USER 'designate'@'10.64.16.155'
IDENTIFIED BY PASSWORD '*45E6AC15A5660C7CA1EC10E335624FDC5276452D';

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate`.* TO 'designate'@'10.64.16.155';

-- designate, labservices1001

CREATE USER 'designate'@'10.64.16.155'
IDENTIFIED BY PASSWORD '*45E6AC15A5660C7CA1EC10E335624FDC5276452D';

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate`.* TO 'designate'@'10.64.16.155';

-- designate_pool_manager, labservices1002

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate\_pool\_manager`.* TO 'designate'@'10.64.16.155';

-- designate_pool_manager, labservices1001

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate\_pool\_manager`.* TO 'designate'@'10.64.16.155';

-- labnodepool1001 backend database

CREATE USER 'nodepool'@'10.64.16.155'
IDENTIFIED BY '<%= @nodepool_pass %>';

GRANT ALL ON `nodepooldb`.* TO 'nodepool'@'10.64.16.155';

-- backups to dbstore1001

CREATE USER 'root'@'10.64.16.155'
IDENTIFIED BY '<%= @root_pass %>';

GRANT ALL PRIVILEGES
ON *.* TO 'root'@'10.64.48.17';

-- parsoid testing database from ruthenium
CREATE USER 'testreduce'@'10.64.16.155'
IDENTIFIED BY '<%= @testreduce_pass %>';

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `testreduce`.* TO 'testreduce'@'10.64.16.155';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `testreduce_0715`.* TO 'testreduce'@'10.64.16.155';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `testreduce_vd`.* TO 'testreduce'@'10.64.16.155';

-- parsoid testing database from ruthenium
-- (command line access for ssastry)
CREATE USER 'ssastry'@'10.64.16.155'
IDENTIFIED BY '<%= @testreduce_cli_pass %>';
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `testreduce_0715`.* TO 'ssastry'@'10.64.16.155';
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `testreduce_vd`.* TO 'ssastry'@'10.64.16.155';

-- designate, labservices1002

CREATE USER 'designate'@'208.80.154.12'
IDENTIFIED BY PASSWORD '*45E6AC15A5660C7CA1EC10E335624FDC5276452D';

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate`.* TO 'designate'@'208.80.154.12';

-- designate, labservices1001

CREATE USER 'designate'@'208.80.155.117'
IDENTIFIED BY PASSWORD '*45E6AC15A5660C7CA1EC10E335624FDC5276452D';

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER,
      CREATE TEMPORARY TABLES
ON `designate`.* TO 'designate'@'208.80.155.117';

-- designate_pool_manager, labservices1002

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, CREATE TEMPORARY TABLES
    ON `designate\_pool\_manager`.* TO 'designate'@'208.80.154.12';

-- designate_pool_manager, labservices1001

GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, CREATE TEMPORARY TABLES
    ON `designate\_pool\_manager`.* TO 'designate'@'208.80.155.117';

-- labnodepool1001 backend database

CREATE USER 'nodepool'@'10.64.20.18' IDENTIFIED BY '<%= @nodepool_pass %>';
GRANT ALL ON `nodepooldb`.* TO 'nodepool'@'10.64.20.18';

-- backups to dbstore1001

CREATE USER 'root'@'10.64.48.17'
IDENTIFIED BY '<%= @root_pass %>';

GRANT ALL PRIVILEGES
ON *.* TO 'root'@'10.64.48.17';

-- parsoid testing database from ruthenium
CREATE USER 'testreduce'@'10.64.16.151' IDENTIFIED BY '<%= @testreduce_pass %>';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, CREATE TEMPORARY TABLES
ON `testreduce`.* TO 'testreduce'@'10.64.16.151';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, CREATE TEMPORARY TABLES
ON `testreduce_0715`.* TO 'testreduce'@'10.64.16.151';
GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, ALTER, CREATE TEMPORARY TABLES
ON `testreduce_vd`.* TO 'testreduce'@'10.64.16.151';

-- parsoid testing database from ruthenium (command line access for ssastry)
CREATE USER 'ssastry'@'10.64.16.151' IDENTIFIED BY '<%= @testreduce_cli_pass %>';
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `testreduce_0715`.* TO 'ssastry'@'10.64.16.151';
GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `testreduce_vd`.* TO 'ssastry'@'10.64.16.151';

-- striker application user. Will connect to DB from californium.
GRANT SELECT, INSERT, UPDATE, DELETE ON striker.* TO 'striker'@'208.80.154.147'
IDENTIFIED BY '<%= @striker_pass %>';

-- striker admin user. Will connect to DB from terbium and californium.
GRANT ALL ON striker.* TO 'striker_admin'@'208.80.154.147'
IDENTIFIED BY '<%= @striker_admin_pass %>';
GRANT ALL ON striker.* TO 'striker_admin'@'10.64.32.13'
IDENTIFIED BY '<%= @striker_admin_pass %>';

-- labspuppetbackend user, will run on the labs puppetmaster host --

GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `labspuppet`.* TO 'labspuppet'@'208.80.154.92'
IDENTIFIED BY '<%= @labspuppet_pass %>';

GRANT SELECT, INSERT, UPDATE, DELETE, ALTER
ON `labspuppet`.* TO 'labspuppet'@'10.64.16.155'
IDENTIFIED BY '<%= @labspuppet_pass %>';

-- labsdbaccounts user, will run from labstore1004 and 1005

GRANT ALL ON labsdbaccounts.* TO 'labsdbaccounts'@'10.64.37.19'
IDENTIFIED BY '<%= @labsdbaccounts_pass %>';

GRANT ALL ON labsdbaccounts.* TO 'labsdbaccounts'@'10.64.37.20'
IDENTIFIED BY '<%= @labsdbaccounts_pass %>';

GRANT ALL ON labsdbaccounts.* TO 'labsdbaccounts'@'10.64.16.155'
IDENTIFIED BY '<%= @labsdbaccounts_pass %>';
