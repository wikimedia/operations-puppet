-- Grants for 'root'@'localhost'

GRANT ALL PRIVILEGES
    ON *.* TO 'root'@'localhost'
    IDENTIFIED BY '<%= @root_pass %>'
    WITH GRANT OPTION;

GRANT PROXY
    ON ''@'%' TO 'root'@'localhost'
    WITH GRANT OPTION;

-- Grants for 'root'@'10.64.32.25' (cumin1001)

GRANT ALL PRIVILEGES
    ON *.* TO 'root'@'10.64.32.25'
    IDENTIFIED BY '<%= @root_pass %>'
    WITH GRANT OPTION;

-- Grants for 'root'@'10.192.48.16' (cumin2001)

GRANT ALL PRIVILEGES
    ON *.* TO 'root'@'10.192.48.16'
    IDENTIFIED BY '<%= @root_pass %>'
    WITH GRANT OPTION;

-- Grants for 'nagios'@'localhost' (icinga)

GRANT PROCESS, REPLICATION CLIENT
    ON *.* TO 'nagios'@'localhost'
    IDENTIFIED BY '<%= @nagios_pass %>';
GRANT SELECT
    ON heartbeat.heartbeat TO 'nagios'@'localhost';

-- Grants for 'tendril'@'10.%' (tendril)

GRANT PROCESS, REPLICATION CLIENT, SELECT, SHOW DATABASES
    ON *.* TO '<%= @tendril_user %>'@'10.%'
    IDENTIFIED BY '<%= @tendril_pass %>';

-- Grants for 'repl'@'10.64.%' (replication eqiad)
GRANT REPLICATION SLAVE
    ON *.* TO 'repl'@'10.64.%'
    IDENTIFIED BY '<%= @repl_pass %>';

-- Grants for 'repl'@'10.192.%' (replication codfw)
GRANT REPLICATION SLAVE
    ON *.* TO 'repl'@'10.192.%'
    IDENTIFIED BY '<%= @repl_pass %>';

-- Grants for 'prometheus'@'localhost' (prometheus monitoring)

GRANT PROCESS, REPLICATION CLIENT
    ON *.* TO 'prometheus'@'localhost'
    IDENTIFIED BY '<%= @prometheus_pass %>'
    WITH MAX_USER_CONNECTIONS 5;
GRANT SELECT
    ON heartbeat.heartbeat TO 'prometheus'@'localhost';
