# SPDX-License-Identifier: Apache-2.0
class profile::openstack::codfw1dev::rabbitmq(
    Array[Stdlib::Fqdn] $rabbitmq_nodes = lookup('profile::openstack::codfw1dev::rabbitmq_nodes'),
    Array[Stdlib::Fqdn] $rabbitmq_setup_nodes = lookup('profile::openstack::codfw1dev::rabbitmq_setup_nodes'),
    $monitor_user = lookup('profile::openstack::codfw1dev::rabbit_monitor_user'),
    $monitor_password = lookup('profile::openstack::codfw1dev::rabbit_monitor_pass'),
    $cleanup_password = lookup('profile::openstack::codfw1dev::rabbit_cleanup_pass'),
    $file_handles = lookup('profile::openstack::codfw1dev::rabbit_file_handles'),
    String $nova_rabbit_user = lookup('profile::openstack::base::nova::rabbit_user'),
    String $nova_rabbit_password = lookup('profile::openstack::codfw1dev::nova::rabbit_pass'),
    String $neutron_rabbit_user = lookup('profile::openstack::base::neutron::rabbit_user'),
    String $neutron_rabbit_password = lookup('profile::openstack::codfw1dev::neutron::rabbit_pass'),
    String $heat_rabbit_user = lookup('profile::openstack::base::heat::rabbit_user'),
    String $heat_rabbit_password = lookup('profile::openstack::codfw1dev::heat::rabbit_pass'),
    String $magnum_rabbit_user = lookup('profile::openstack::base::magnum::rabbit_user'),
    String $magnum_rabbit_password = lookup('profile::openstack::codfw1dev::magnum::rabbit_pass'),
    String $cinder_rabbit_user = lookup('profile::openstack::base::cinder::rabbit_user'),
    String $cinder_rabbit_password = lookup('profile::openstack::codfw1dev::cinder::rabbit_pass'),
    String $designate_rabbit_user = lookup('profile::openstack::base::designate::rabbit_user'),
    String $designate_rabbit_password = lookup('profile::openstack::codfw1dev::designate::rabbit_pass'),
    String $trove_rabbit_user = lookup('profile::openstack::base::trove::rabbit_user'),
    String $trove_rabbit_pass = lookup('profile::openstack::codfw1dev::trove::rabbit_pass'),
    String $trove_guest_rabbit_user = lookup('profile::openstack::base::trove::trove_guest_rabbit_user'),
    String $trove_guest_rabbit_pass = lookup('profile::openstack::codfw1dev::trove::trove_guest_rabbit_pass'),
    $rabbit_erlang_cookie = lookup('profile::openstack::codfw1dev::rabbit_erlang_cookie'),
    Optional[String] $rabbit_cfssl_label = lookup('profile::openstack::codfw1dev::rabbitmq::rabbit_cfssl_label', {default_value => undef}),
    Integer $heartbeat_timeout = lookup('profile::openstack::eqiad1::rabbitmq_heartbeat_timeout'),
    String $version = lookup('profile::openstack::codfw1dev::version'),
){

    class {'::profile::openstack::base::rabbitmq':
        rabbitmq_nodes            => $rabbitmq_nodes,
        rabbitmq_setup_nodes      => $rabbitmq_setup_nodes,
        monitor_user              => $monitor_user,
        monitor_password          => $monitor_password,
        cleanup_password          => $cleanup_password,
        file_handles              => $file_handles,
        nova_rabbit_user          => $nova_rabbit_user,
        nova_rabbit_password      => $nova_rabbit_password,
        neutron_rabbit_user       => $neutron_rabbit_user,
        neutron_rabbit_password   => $neutron_rabbit_password,
        heat_rabbit_user          => $heat_rabbit_user,
        heat_rabbit_password      => $heat_rabbit_password,
        magnum_rabbit_user        => $magnum_rabbit_user,
        magnum_rabbit_password    => $magnum_rabbit_password,
        cinder_rabbit_user        => $cinder_rabbit_user,
        cinder_rabbit_password    => $cinder_rabbit_password,
        designate_rabbit_user     => $designate_rabbit_user,
        designate_rabbit_password => $designate_rabbit_password,
        trove_rabbit_user         => $trove_rabbit_user,
        trove_rabbit_pass         => $trove_rabbit_pass,
        trove_guest_rabbit_user   => $trove_guest_rabbit_user,
        trove_guest_rabbit_pass   => $trove_guest_rabbit_pass,
        rabbit_erlang_cookie      => $rabbit_erlang_cookie,
        rabbit_cfssl_label        => $rabbit_cfssl_label,
        heartbeat_timeout         => $heartbeat_timeout,
        version                   => $version,
    }
    contain '::profile::openstack::base::rabbitmq'
}
