<%#- SPDX-License-Identifier: Apache-2.0 -%>
ALTER ROLE kartotherian SET statement_timeout = 30000;  -- limit query execution time

GRANT SELECT ON ALL TABLES IN SCHEMA public TO kartotherian;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO tilerator;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO tileratorui;
GRANT SELECT ON ALL TABLES IN SCHEMA import TO kartotherian;
GRANT SELECT ON ALL TABLES IN SCHEMA import TO tilerator;
GRANT SELECT ON ALL TABLES IN SCHEMA import TO tileratorui;

ALTER DEFAULT PRIVILEGES GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO osmupdater;
GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO osmupdater;
GRANT CREATE, TEMPORARY ON DATABASE <%= @db_name %> TO osmupdater;
GRANT USAGE, SELECT, UPDATE ON ALL SEQUENCES IN SCHEMA public to osmupdater;

GRANT SELECT, INSERT, UPDATE, DELETE ON ALL TABLES IN SCHEMA public TO osmimporter;
ALTER DEFAULT PRIVILEGES GRANT SELECT, INSERT, UPDATE, DELETE ON TABLES TO osmimporter;
GRANT USAGE, SELECT, UPDATE ON ALL SEQUENCES IN SCHEMA public to osmimporter;

GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public to kartotherian;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public to tilerator;
GRANT USAGE, SELECT ON ALL SEQUENCES IN SCHEMA public to tileratorui;
