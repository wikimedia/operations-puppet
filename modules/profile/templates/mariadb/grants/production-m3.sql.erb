-- haproxy@dbproxy1020

GRANT USAGE
    ON *.* TO 'haproxy'@'10.64.32.179';

-- phadmin@phab1004

GRANT USAGE
    ON *.* TO 'phadmin'@'10.64.16.101'
    IDENTIFIED BY '<%= @phab_admin_pass %>';

GRANT ALL PRIVILEGES
    ON `phabricator%`.* TO 'phadmin'@'10.64.16.101';


-- phadmin@dbproxy1020
GRANT USAGE
    ON *.* TO 'phadmin'@'10.64.32.179'
    IDENTIFIED BY '<%= @phab_admin_pass %>';

GRANT ALL PRIVILEGES
    ON `phabricator%`.* TO 'phadmin'@'10.64.32.179';
    
-- phuser@phab1004

GRANT REPLICATION CLIENT
    ON *.* TO 'phuser'@'10.64.16.101'
    IDENTIFIED BY '<%= @phab_app_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phuser'@'10.64.16.101';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phuser'@'10.64.16.101';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phuser'@'10.64.16.101';


-- phuser@dbproxy1020

GRANT REPLICATION CLIENT
    ON *.* TO 'phuser'@'10.64.32.179'
    IDENTIFIED BY '<%= @phab_app_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phuser'@'10.64.32.179';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phuser'@'10.64.32.179';

-- phabricatorphd@phab1004

GRANT REPLICATION CLIENT
    ON *.* TO 'phabricatorphd'@'10.64.16.101'
    IDENTIFIED BY '<%= @phab_phd_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phabricatorphd'@'10.64.16.101';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phabricatorphd'@'10.64.16.101';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phabricatorphd'@'10.64.16.101';

-- phabricatorphd@dbproxy1020

GRANT REPLICATION CLIENT
    ON *.* TO 'phabricatorphd'@'10.64.32.179'
    IDENTIFIED BY '<%= @phab_phd_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phabricatorphd'@'10.64.32.179';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phabricatorphd'@'10.64.32.179';

-- Grants for 'phstats'@'10.192.27.6' phab2002
GRANT USAGE ON *.* TO `phstats`@`10.192.27.6` IDENTIFIED BY '<%= @phab_metrics_pass %>';
GRANT SELECT ON `phabricator_auth`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_dashboard`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_differential`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_herald`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_maniphest`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_policy`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_project`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_repository`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_search`.* TO `phstats`@`10.192.27.6`;
GRANT SELECT ON `phabricator_user`.* TO `phstats`@`10.192.27.6`;
-- Grants for 'phstats'@'10.64.16.101' phab1004
GRANT USAGE ON *.* TO `phstats`@`10.64.16.101` IDENTIFIED BY '<%= @phab_metrics_pass %>';
GRANT SELECT ON `phabricator_auth`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_dashboard`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_differential`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_herald`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_maniphest`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_policy`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_project`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_repository`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_search`.* TO `phstats`@`10.64.16.101`;
GRANT SELECT ON `phabricator_user`.* TO `phstats`@`10.64.16.101`;

-- phstats@dbproxy1020

GRANT USAGE
    ON *.* TO 'phstats'@'10.64.32.179'
    IDENTIFIED BY '<%= @phab_metrics_pass %>';
GRANT SELECT ON `phabricator_maniphest`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_user`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_project`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_differential`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_herald`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_policy`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_dashboard`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_auth`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_repository`.* TO 'phstats'@'10.64.32.179';
GRANT SELECT ON `phabricator_search`.* TO 'phstats'@'10.64.32.179';

-- phmanifest@phab1004

GRANT USAGE
    ON *.* TO 'phmanifest'@'10.64.16.101'
    IDENTIFIED BY '<%= @phab_manifest_pass %>';

GRANT SELECT
    ON `phabricator_maniphest`.* TO 'phmanifest'@'10.64.16.101';


-- phmanifest@dbproxy1020

GRANT USAGE
    ON *.* TO 'phmanifest'@'10.64.32.179'
    IDENTIFIED BY '<%= @phab_manifest_pass %>';

GRANT SELECT
    ON `phabricator_maniphest`.* TO 'phmanifest'@'10.64.32.179';

-- bzmigrate@%
GRANT USAGE
    ON *.* TO 'bzmigrate'@'%'
    IDENTIFIED BY '<%= @phab_bz_pass %>';
GRANT ALL PRIVILEGES
    ON `bugzilla_migration`.* TO 'bzmigrate'@'%';

-- rtmigrate@%
GRANT USAGE
    ON *.* TO 'rtmigrate'@'%'
    IDENTIFIED BY '<%= @phab_rt_pass %>';
GRANT ALL PRIVILEGES
    ON `rt_migration`.* TO 'rtmigrate'@'%';

-- haproxy@dbproxy2003

GRANT USAGE
    ON *.* TO 'haproxy'@'10.192.32.137';

-- phadmin@dbproxy2003
GRANT USAGE
    ON *.* TO 'phadmin'@'10.192.32.137'
    IDENTIFIED BY '<%= @phab_admin_pass %>';

GRANT ALL PRIVILEGES
    ON `phabricator%`.* TO 'phadmin'@'10.192.32.137';

-- phuser@dbproxy2003

GRANT REPLICATION CLIENT
    ON *.* TO 'phuser'@'10.192.32.137'
    IDENTIFIED BY '<%= @phab_app_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phuser'@'10.192.32.137';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phuser'@'10.192.32.137';

-- phabricatorphd@dbproxy2003

GRANT REPLICATION CLIENT
    ON *.* TO 'phabricatorphd'@'10.192.32.137'
    IDENTIFIED BY '<%= @phab_phd_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phabricatorphd'@'10.192.32.137';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phabricatorphd'@'10.192.32.137';


-- phstats@dbproxy2003

GRANT USAGE
    ON *.* TO 'phstats'@'10.192.32.137'
    IDENTIFIED BY '<%= @phab_metrics_pass %>';
GRANT SELECT ON `phabricator_maniphest`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_user`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_project`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_differential`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_herald`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_policy`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_dashboard`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_auth`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_repository`.* TO 'phstats'@'10.192.32.137';
GRANT SELECT ON `phabricator_search`.* TO 'phstats'@'10.192.32.137';

-- phmanifest@dbproxy2003

GRANT USAGE
    ON *.* TO 'phmanifest'@'10.192.32.137'
    IDENTIFIED BY '<%= @phab_manifest_pass %>';

GRANT SELECT
    ON `phabricator_maniphest`.* TO 'phmanifest'@'10.192.32.137';

-- haproxy@dbproxy1026

GRANT USAGE
    ON *.* TO 'haproxy'@'10.64.130.15';

-- phadmin@dbproxy1026
GRANT USAGE
    ON *.* TO 'phadmin'@'10.64.130.15'
    IDENTIFIED BY '<%= @phab_admin_pass %>';

GRANT ALL PRIVILEGES
    ON `phabricator%`.* TO 'phadmin'@'10.64.130.15';

-- phuser@dbproxy1026

GRANT REPLICATION CLIENT
    ON *.* TO 'phuser'@'10.64.130.15'
    IDENTIFIED BY '<%= @phab_app_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phuser'@'10.64.130.15';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phuser'@'10.64.130.15';

-- phabricatorphd@dbproxy1026

GRANT REPLICATION CLIENT
    ON *.* TO 'phabricatorphd'@'10.64.130.15'
    IDENTIFIED BY '<%= @phab_phd_pass %>';

GRANT CREATE, DROP
    ON `phabricator_cache`.`cache_markupcache` TO 'phabricatorphd'@'10.64.130.15';

GRANT DELETE, EXECUTE, INSERT, SELECT, SHOW VIEW, UPDATE
    ON `phabricator%`.* TO 'phabricatorphd'@'10.64.130.15';

-- phstats@dbproxy1026

GRANT USAGE
    ON *.* TO 'phstats'@'10.64.130.15'
    IDENTIFIED BY '<%= @phab_metrics_pass %>';
GRANT SELECT ON `phabricator_maniphest`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_user`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_project`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_differential`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_herald`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_policy`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_dashboard`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_auth`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_repository`.* TO 'phstats'@'10.64.130.15';
GRANT SELECT ON `phabricator_search`.* TO 'phstats'@'10.64.130.15';

-- phmanifest@dbproxy1026

GRANT USAGE
    ON *.* TO 'phmanifest'@'10.64.130.15'
    IDENTIFIED BY '<%= @phab_manifest_pass %>';

GRANT SELECT
    ON `phabricator_maniphest`.* TO 'phmanifest'@'10.64.130.15';


