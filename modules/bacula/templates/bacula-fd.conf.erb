# This file has been autogenerated by puppet. Don't edit by hand

# The directors allowed to contect to us
Director {
    Name = "<%= @director %>"
    Password = "<%= @directorpass %>"
    # Have the Control channel encrypted
    TLS Enable = yes
    TLS Require = yes
    TLS CA Certificate File = "/var/lib/puppet/ssl/certs/ca.pem"
    TLS Verify Peer = yes
    TLS Certificate = "/var/lib/puppet/ssl/certs/<%= @fqdn %>.pem"
    TLS Key = "/var/lib/puppet/ssl/private_keys/<%= @fqdn %>.pem"
}

#
# "Global" File daemon configuration specifications
#
FileDaemon {
    Name = "<%= @fqdn %>-fd"
    FDport = <%= @fdport %>
    WorkingDirectory = /var/lib/bacula
    Pid Directory = /var/run/bacula
    Maximum Concurrent Jobs = 1
    Plugin Directory = "/usr/lib/bacula"
    # Have all data stored encrypted
    PKI Encryption = Yes
    PKI Signatures = Yes
    PKI Keypair = "/var/lib/puppet/ssl/private_keys/bacula-keypair-<%= @fqdn %>.pem"
    PKI Master Key = "/var/lib/puppet/ssl/certs/ca.pem"
    # Do NOT enable Data channel encryption.
    TLS Enable = no
    TLS Require = yes
    TLS Certificate = "/var/lib/puppet/ssl/certs/<%= @fqdn %>.pem"
    TLS Key = "/var/lib/puppet/ssl/private_keys/<%= @fqdn %>.pem"
    TLS CA Certificate File = "/var/lib/puppet/ssl/certs/ca.pem"
    # Heartbeat inverval = 0 # in secs
    # FDAddresses = # For director connections
    # FDSourceAddress = # For connecting to SD
    # Maximum Bandwidth Per Job =
}

# Send all messages except skipped files back to Director
Messages {
    Name = Standard
    director = "<%= @director %>" = all, !skipped, !restored
}
