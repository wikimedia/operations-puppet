[Unit]
Description=Wikidate Query Service Updater
Wants=wdqs-blazegraph.service
After=wdqs-blazegraph.service
ConditionPathExists=<%= scope.lookupvar("wdqs::updater::data_dir") %>/wikidata.jnl
ConditionPathExists=<%= scope.lookupvar("wdqs::updater::data_dir") %>/data_loaded

[Service]
Type=simple
WorkingDirectory=<%= scope.lookupvar("wdqs::updater::package_dir") %>
ExecStart=/bin/bash <%= scope.lookupvar("wdqs::updater::package_dir") %>/runUpdate.sh <%= scope.lookupvar("wdqs::updater::options") %>
User=<%= scope.lookupvar("wdqs::updater::username") %>
StandardOutput=journal+console
Restart=always

[Install]
