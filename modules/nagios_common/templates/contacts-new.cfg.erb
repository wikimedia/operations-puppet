# vim: autoindent ts=8

define contact{
        contact_name                    irc
        alias                           wikimedia-tech
        host_notification_period        24x7
        service_notification_period     24x7
        host_notification_options       d,r,f
        service_notification_options    c,r,f
        email                           nowhere
        host_notification_commands      notify-host-by-irc
        service_notification_commands   notify-service-by-irc
}

define contact{
        contact_name                    irc-wikidata
        alias                           wikidata-irc-bot
        host_notification_period        24x7
        service_notification_period     24x7
        host_notification_options       d,r,f
        service_notification_options    c,r,f
        email                           nowhere
        host_notification_commands      notify-host-by-irc-wikidata
        service_notification_commands   notify-service-by-irc-wikidata
}

<%- contact = 'dzahn' -%>
define contact{
        contact_name                    <%= contact %>
        alias                           daniel_zahn
        host_notification_period        PST_awake_hours
        service_notification_period     PST_awake_hours
        host_notification_options       d,r,f
        service_notification_options    c,r,f
        email                           <%= scope.function_hiera(['icinga::contacts::#{contact} %>::email']) %>
        pager                           <%= scope.function_hiera(['icinga::contacts::#{contact} %>::pager']) %>
        address1                        <%= scope.function_hiera(['icinga::contacts::#{contact} %>::address1']) %>
        host_notification_commands      host-notify-by-email,host-notify-by-sms-gateway
        service_notification_commands   notify-by-email,notify-by-sms-gateway
}

<%- contact = 'bblack' -%>
define contact{
        contact_name                    <%= contact %>
        alias                           Brandon Black
        host_notification_period        24x7
        service_notification_period     24x7
        host_notification_options       d,r,f
        service_notification_options    c,r,f
        email                           <%= scope.function_hiera(['icinga::contacts::#{contact} %>::email']) %>
        pager                           <%= scope.function_hiera(['icinga::contacts::#{contact} %>::pager']) %>
        address1                        <%= scope.function_hiera(['icinga::contacts::#{contact} %>::address1']) %>
        host_notification_commands      host-notify-by-email,host-notify-by-sms-gateway
        service_notification_commands   notify-by-email,notify-by-sms-gateway
}

