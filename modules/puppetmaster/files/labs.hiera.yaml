:backends:
  - httpyaml
  - mwyaml
  - nuyaml
  # the nuyaml3 backend searches the private and secret datadir if the hierarchy
  # entry is prefixed with either private or secret.  newer version of puppet
  # require all top level keys i.e. backends to be defined in this array
  # we have also created an empty custom backend to keep the hiera cli happy
  - private
  - secret
:nuyaml:
  :datadir: /etc/puppet/hieradata
:mwyaml:
  :host: https://wikitech.wikimedia.org
  :cache_ttl: 120
:private:
  :datadir: /etc/puppet/private/hieradata
:secret:
  :datadir: /etc/puppet/secret/hieradata
:httpyaml:
  :url_prefix: http://labs-puppetmaster.wikimedia.org:8100/v1/
:hierarchy:
  - "labs/hosts/%{::hostname}"
  - "labs/%{::labsproject}/host/%{::hostname}"
  - "labs/%{::labsproject}/common"
  - "labs"
  - "secret/%{::labsproject}"
  - "private/labs/%{::labsproject}/common"
  - "private/%{::labsproject}"
  - "private/labs"
  - "common"
  - "secret/common"
  - "private/common"
  - "httpyaml/%{::labsproject}/node/%{::fqdn}"
