<%#- SPDX-License-Identifier: Apache-2.0 -%>
#####################################################################
### THIS FILE IS MANAGED BY PUPPET
#####################################################################


# This file is sourced by /etc/init.d/rabbitmq-server. Its primary
# reason for existing is to allow adjustment of system limits for the
# rabbitmq-server process.
#
# Default file handles limit is 1024.  We need a handle
#  for every worker thread of every service on every node
#  which shouldn't add up to 1024 but Rabbit has been dying
#  and this is an inexpensive thing to try.
#
# Many big production OS installs have this set to 16k or even 64k.
#
ulimit -n <%= @file_handles %>
