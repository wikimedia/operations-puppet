[DEFAULT]
auth_strategy=keystone

[dynamicproxy]
dns_updater_keystone_api_url = '<%= @keystone_api_url %>'
dns_updater_username = <%= @dns_updater_username %>
dns_updater_password = '<%= @dns_updater_password %>'
dns_updater_project = <%= @dns_updater_project %>

zones_json_file = '/etc/dynamicproxy-api/zones.json'
proxy_dns_ipv4 = <%= @proxy_dns_ipv4 %>
sqlalchemy_uri = 'mysql+pymysql://<%= @mariadb_username %>:<%= @mariadb_password %>@<%= @mariadb_host %>/<%= @mariadb_db %>?charset=utf8mb4'
redis_uri = 'redis://<%= @redis_primary_host %>'

[keystone_authtoken]
identity_uri = <%= @keystone_api_url %>
www_authenticate_uri = <%= @keystone_api_url %>

http_connect_timeout = 5

interface = public
auth_type = password
auth_url = <%= @keystone_api_url %>
username = <%= @token_validator_username %>
user_domain_id = default
password = <%= @token_validator_password %>
project_name = <%= @token_validator_project %>
project_domain_id = default

auth_version = 3.14

service_type = proxy

delay_auth_decision = True

[flask_keystone]
# this can be empty, we're using a different mechanism (oslo.policy) for role checks
roles = ""
