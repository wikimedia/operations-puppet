###################################
# generated by puppet
# puppet::modules/dataset/templates/rsync.default.erb
###################################

# defaults file for rsync daemon mode

# start rsync in daemon mode from init.d script?
#  only allowed values are "true", "false", and "inetd"
#  Use "inetd" if you want to start the rsyncd from inetd,
#  all this does is prevent the init.d script from printing a message
#  about not starting rsyncd (you still need to modify inetd's config yourself).
<% if @rsync_enable then -%>
RSYNC_ENABLE=<%= @rsync_enable %>
<% end -%>

# which file should be used as the configuration file for rsync.
# This file is used instead of the default /etc/rsyncd.conf
# Warning: This option has no effect if the daemon is accessed
#          using a remote shell. When using a different file for
#          rsync you might want to symlink /etc/rsyncd.conf to
#          that file.
<% if @rsync_config_file then -%>
RSYNC_CONFIG_FILE='<%= @rsync_config_file %>'
<% end -%>

# what extra options to give rsync --daemon?
#  that excludes the --daemon; that's always done in the init.d script
#  Possibilities are:
#   --address=123.45.67.89              (bind to a specific IP address)
#   --port=8730                         (bind to specified port; default 873)
<% if @rsync_opts then -%>
RSYNC_OPTS='<%= @rsync_opts -%>'
<% end -%>

# run rsyncd at a nice level?
#  the rsync daemon can impact performance due to much I/O and CPU usage,
#  so you may want to run it at a nicer priority than the default priority.
#  Allowed values are 0 - 19 inclusive; 10 is a reasonable value.
<% if @rsync_nice then -%>
RSYNC_NICE='<%= @rsync_nice -%>'
<% end -%>
<% if @rsync_ionice then -%>
RSYNC_IONICE='<%= @rsync_ionice -%>'
<% end -%>

# Don't forget to create an appropriate config file,
# else the daemon will not start.
