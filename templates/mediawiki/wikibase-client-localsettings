<?php
#####################################################################
### THIS FILE IS MANAGED BY PUPPET
### puppet:///templates/mediawiki/wikibase-client-localsettings
###
###  Changes to this file will be clobbered by Puppet.
###  If you need to hand-edit local settings, modify
###  the included orig/LocalSettings.php.
###
#####################################################################

$wgArticlePath      = "/wiki/$1";

require_once( "$IP/extensions/Nuke/Nuke.php" );
require_once( "$IP/extensions/SpamBlacklist/SpamBlacklist.php" );
require_once( "$IP/extensions/ConfirmEdit/QuestyCaptcha.php" );

$wgCaptchaClass = 'QuestyCaptcha';
$wgCaptchaQuestions[] = array( 'question' => 'What is the name of Wikipedia\'s predecessor (check History of Wikipedia if you don\'t know)?', 'answer' => 'Nupedia', 'nupedia', 'NUPEDIA', 'NuPedia' );

// Only sysops can create new accounts.
$wgGroupPermissions['*']['createaccount'] = false;

// Anons can't edit
$wgGroupPermissions['*']['edit'] = false;

// Wikidata: Wikibase lib and client extensions
// (dependencies: Diff, DataValues and ULS extensions)
require_once( "$IP/extensions/Diff/Diff.php");
require_once( "$IP/extensions/DataValues/DataValues.php" );
require_once( "$IP/extensions/UniversalLanguageSelector/UniversalLanguageSelector.php" );
require_once( "$IP/extensions/Wikibase/lib/WikibaseLib.php");
require_once( "$IP/extensions/Wikibase/client/WikibaseClient.php");

// Shared database
//$wgSharedDB = 'wikidata_repo'; // The name of your wikibase repo database
// $wgSharedPrefix = ''; // The table prefix to use, which should be set to the same value on both the repo wiki and the clients and can be empty. If not given, the prefix of the (client) wiki is being used
//$wgSharedTables = array( 'wb_changes', 'wbc_entity_cache', 'wbc_items_per_site' );


//// Configuration of Wikibase Client -> has to be editalbe by users, has to go orig
//$wgWBSettings['namespaces'] = array( NS_MAIN, NS_CATEGORY );
//$wgWBSettings['repoBase'] = 'http://wikidata-test-repo.wikimedia.de/wiki/';
//$wgWBSettings['repoApi'] = 'http://wikidata-test-repo.wikimedia.de/w/api.php';
//$wgWBSettings['siteGlobalID'] = 'enwiki';
//$wgWBSettings['siteGroup'] = 'wiki';
//$wgWBSettings['sort'] = 'code';
//$wgWBSettings['sortPrepend'] = array( 'en' );

# Include the complete settings file generated by mw install
require_once( 'orig/LocalSettings.php' );
