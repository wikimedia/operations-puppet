# This file is managed by Puppet!
#
# This file consists of arbitrarily named sections/modules
# defining where files are served from and to whom

# Define a section 'files'
# Adapt the allow/deny settings to your needs. Order
# for allow/deny does not matter, allow always takes precedence
# over deny
[files]
	path <%= scope.lookupvar('puppetmaster::config').fetch('filesdir', "/etc/puppet/files") %>
<% scope.lookupvar('puppetmaster::allow_from').each do |entry| -%>
	allow <%= entry %>
<% end -%>
<% scope.lookupvar('puppetmaster::deny_from').each do |entry| -%>
	deny <%= entry %>
<% end -%>

[plugins]
<% scope.lookupvar('puppetmaster::allow_from').each do |entry| -%>
	allow <%= entry %>
<% end -%>
<% scope.lookupvar('puppetmaster::deny_from').each do |entry| -%>
	deny <%= entry %>
<% end -%>

[private]
	path <%= scope.lookupvar('puppetmaster::config').fetch('privatefilesdir', "/etc/puppet/private/files") %>
<% scope.lookupvar('puppetmaster::allow_from').each do |entry| -%>
	allow <%= entry %>
<% end -%>
<% scope.lookupvar('puppetmaster::deny_from').each do |entry| -%>
	deny <%= entry %>
<% end -%>

[facts]
	path /var/lib/puppet/facts
<% scope.lookupvar('puppetmaster::allow_from').each do |entry| -%>
	allow <%= entry %>
<% end -%>
<% scope.lookupvar('puppetmaster::deny_from').each do |entry| -%>
	deny <%= entry %>
<% end -%>

[software]
	path <%= scope.lookupvar('puppetmaster::config').fetch('softwaredir', "/etc/puppet/software") %>
<% scope.lookupvar('puppetmaster::allow_from').each do |entry| -%>
	allow <%= entry %>
<% end -%>
<% scope.lookupvar('puppetmaster::deny_from').each do |entry| -%>
	deny <%= entry %>
<% end -%>
