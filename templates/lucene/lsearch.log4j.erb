# Set root logger level and its only appender to A1.
log4j.rootLogger=INFO, A1<% if @udplogging == true then -%>, udp2log<% end -%>

# A1 is set to be a ConsoleAppender.
#log4j.appender.A1=org.apache.log4j.ConsoleAppender

# Append to log file
log4j.appender.A1=org.apache.log4j.DailyRollingFileAppender
log4j.appender.A1.File=/a/search/log/log
log4j.appender.A1.Append=true
log4j.appender.A1.Threshold=WARN
log4j.appender.A1.MaxBackupIndex=6

# A1 uses PatternLayout.
log4j.appender.A1.layout=org.apache.log4j.PatternLayout
log4j.appender.A1.layout.ConversionPattern=%d [%t] %-5p %c %x - %m%n

# Log progress messages from the incremental indexer
log4j.logger.org.wikimedia.lsearch.oai.IncrementalUpdater=INFO

<% if @udplogging == true then -%>
# udp2log log4j appender.
# Logs to Oxygen's udp2log-lucene instance on port 51234
log4j.appender.udp2log=org.wikimedia.log4j.Udp2LogAppender
log4j.appender.udp2log.remoteHost=208.80.154.15  # oxygen
log4j.appender.udp2log.remotePort=51234
log4j.appender.udp2log.layout=org.apache.log4j.PatternLayout
log4j.appender.udp2log.layout.ConversionPattern=%d{yyyy-MM-dd'T'HH:mm:ss'Z'}\t%m%n
log4j.appender.udp2log.errorhandler.logger.appender-ref=stdout
<% end -%>

#log4j.logger.org.wikimedia.lsearch.search.SearchEngine=WARN
#log4j.logger.org.wikimedia.lsearch.frontend.HttpHandler=WARN
#log4j.logger.org.wikimedia.lsearch.search.WikiSearcher=ERROR
#log4j.logger.org.wikimedia.lsearch.index.WikiIndexModifier=DEBUG
#log4j.logger.org.wikimedia.lsearch.spell.Suggest=DEBUG
#log4j.logger.org.wikimedia.lsearch.interoperability.RMIMessengerClient=DEBUG
#log4j.logger.org.wikimedia.lsearch.ranks.Links=DEBUG
#log4j.logger.org.wikimedia.lsearch.prefix.PrefixIndexBuilder=DEBUG
#log4j.logger.org.wikimedia.lsearch.spell.CleanIndexWriter=DEBUG
#log4j.logger.org.wikimedia.lsearch.spell.api.TitleNgramIndexer=DEBUG
#log4j.logger.org.wikimedia.lsearch.search.NetworkStatusThread=DEBUG
#log4j.logger.org.wikimedia.lsearch.search.SearcherCache=DEBUG
